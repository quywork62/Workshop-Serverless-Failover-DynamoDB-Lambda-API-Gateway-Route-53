<!DOCTYPE html>
<html lang="vi" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.148.1">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Serverless Failover: DynamoDB, Lambda, API Gateway &amp; Route 53 :: Serverless Failover: DynamoDB, Lambda, API Gateway &amp; Route 53</title>

    
    <link href="/css/nucleus.css?1759408387" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1759408387" rel="stylesheet">
    <link href="/css/hybrid.css?1759408387" rel="stylesheet">
    <link href="/css/featherlight.min.css?1759408387" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1759408387" rel="stylesheet">
    <link href="/css/auto-complete.css?1759408387" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1759408387" rel="stylesheet">
    <link href="/css/theme.css?1759408387" rel="stylesheet">
    <link href="/css/hugo-theme.css?1759408387" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1759408387" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1759408387"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/vi/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1759408387"></script>
<script type="text/javascript" src="/js/auto-complete.js?1759408387"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/localhost:1313\/\/vi";
    
</script>
<script type="text/javascript" src="/js/search.js?1759408387"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/vi/1-create-new-aws-account/" title="Bước chuẩn bị" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-create-new-aws-account/">
           <b> 1. </b> Bước chuẩn bị
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/1-create-new-aws-account/1.1-find-account-id/" title="Đăng kí tên miền tại TENTEN.VN" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-create-new-aws-account/1.1-find-account-id/">
           <b> 1.1 </b> Đăng kí tên miền tại TENTEN.VN
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/1-create-new-aws-account/1.2-update-account/" title="Hosting trên DATAONLINE.VN" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-create-new-aws-account/1.2-update-account/">
           <b> 1.2 </b> Hosting trên DATAONLINE.VN
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/1-create-new-aws-account/1.3-aws-account-alias/" title="Sử dụng Cloudflare để quản lý tên miền" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-create-new-aws-account/1.3-aws-account-alias/">
           <b> 1.3 </b> Sử dụng Cloudflare để quản lý tên miền
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/2-mfa-setup-for-aws-user-root/" title="Tạo bảng DynamoDB ở Region chính" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-mfa-setup-for-aws-user-root/">
           <b> 2. </b> Tạo bảng DynamoDB ở Region chính
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/2-mfa-setup-for-aws-user-root/1-virtual-mfa-device/" title="Kích hoạt Global Tables và thêm Region phụ" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-mfa-setup-for-aws-user-root/1-virtual-mfa-device/">
           <b> 2.1 </b> Kích hoạt Global Tables và thêm Region phụ
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/3-create-admin-user-and-group/" title="Tạo IAM Role cho Lambda Functions" class="dd-item 
        
        
        
        ">
      <a href="/vi/3-create-admin-user-and-group/">
           <b> 3. </b> Tạo IAM Role cho Lambda Functions
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/4-verify-new-account/" title="Tạo Lambda Functions ở cả hai Region" class="dd-item 
        
        
        
        ">
      <a href="/vi/4-verify-new-account/">
           <b> 4. </b> Tạo Lambda Functions ở cả hai Region
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/5-setup-api-gateway/" title="Thiết lập API Gateway ở cả hai Region" class="dd-item 
        
        
        
        ">
      <a href="/vi/5-setup-api-gateway/">
           <b> 5. </b> Thiết lập API Gateway ở cả hai Region
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/5-setup-api-gateway/5.1-create-api-primary-region/" title="Tạo API Gateway ở Region chính" class="dd-item 
        
        
        
        ">
      <a href="/vi/5-setup-api-gateway/5.1-create-api-primary-region/">
           <b> 5.1 </b> Tạo API Gateway ở Region chính
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/5-setup-api-gateway/5.2-create-api-secondary-region/" title="Nhân bản API Gateway sang Region phụ" class="dd-item 
        
        
        
        ">
      <a href="/vi/5-setup-api-gateway/5.2-create-api-secondary-region/">
           <b> 5.2 </b> Nhân bản API Gateway sang Region phụ
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/6-setup-dns-route53-failover/" title="Thiết lập DNS Route 53 và cấu hình Failover cho API Gateway" class="dd-item 
        
        
        
        ">
      <a href="/vi/6-setup-dns-route53-failover/">
           <b> 6. </b> Thiết lập DNS Route 53 và cấu hình Failover cho API Gateway
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/6-setup-dns-route53-failover/6.1-setup-dns-delegation/" title="Quyết định DNS cho api.turtleclouds.id.vn" class="dd-item 
        
        
        
        ">
      <a href="/vi/6-setup-dns-route53-failover/6.1-setup-dns-delegation/">
           <b> 6.1 </b> Quyết định DNS cho api.turtleclouds.id.vn
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/6-setup-dns-route53-failover/6.2-acm-ssl-certificates/" title="Làm ACM DNS validation cho cả 2 region" class="dd-item 
        
        
        
        ">
      <a href="/vi/6-setup-dns-route53-failover/6.2-acm-ssl-certificates/">
           <b> 6.2 </b> Làm ACM DNS validation cho cả 2 region
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/6-setup-dns-route53-failover/6.3-api-gateway-custom-domains/" title="Tạo Custom domain cho API Gateway (mỗi region một cái)" class="dd-item 
        
        
        
        ">
      <a href="/vi/6-setup-dns-route53-failover/6.3-api-gateway-custom-domains/">
           <b> 6.3 </b> Tạo Custom domain cho API Gateway (mỗi region một cái)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/6-setup-dns-route53-failover/6.4-route53-health-check-failover/" title="Route 53 Health check &#43; Failover record (trong zone api.turtleclouds.id.vn)" class="dd-item 
        
        
        
        ">
      <a href="/vi/6-setup-dns-route53-failover/6.4-route53-health-check-failover/">
           <b> 6.4 </b> Route 53 Health check &#43; Failover record (trong zone api.turtleclouds.id.vn)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/7-create-frontend-website/" title="Create the Frontend Website" class="dd-item 
        
        
        
        ">
      <a href="/vi/7-create-frontend-website/">
           <b> 7. </b> Create the Frontend Website
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/8-test-failover-delete-primary-api/" title="Kiểm thử cơ chế chuyển đổi dự phòng bằng cách xóa API ở primary (Singapore)" class="dd-item 
        
        
        
        ">
      <a href="/vi/8-test-failover-delete-primary-api/">
           <b> 8. </b> Kiểm thử cơ chế chuyển đổi dự phòng bằng cách xóa API ở primary (Singapore)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/9-clean-up-resources/" title="Xóa tài nguyên (Clean Up)" class="dd-item 
        
        
        
        ">
      <a href="/vi/9-clean-up-resources/">
           <b> 9. </b> Xóa tài nguyên (Clean Up)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="http://awsstudygroup.com"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj"><i class='fab fa-facebook'></i> AWS Study Group - Nhóm FB</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="//localhost:1313/">English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="//localhost:1313/vi/" selected>Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830891&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>1-10-2025</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
           
            <i>
                <a href="https://www.linkedin.com/in/jotaguy"  style="color:orange">Gia Hưng</a><br>
                <a href="https://www.linkedin.com/in/quy-hoang-773a45303"  style="color:orange">Hoàng Quy</a>
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          

        

<span id="sidebar-toggle-span">
<a href="#" id="sidebar-toggle" data-sidebar-toggle=""><i class="fas fa-bars"></i> navigation</a>
</span>

 
<h1 id="serverless-failover-dynamodb-lambda-api-gateway--route-53">Serverless Failover: DynamoDB, Lambda, API Gateway &amp; Route 53</h1>
<h2 id="tổng-quan">Tổng quan</h2>
<p>Trong môi trường sản xuất (production), một trong những rủi ro lớn nhất là ngừng hoạt động (downtime) khi một AWS Region gặp sự cố. Đối với những ứng dụng yêu cầu tính sẵn sàng cao (<strong>High Availability – HA</strong>) và khả năng phục hồi sau thảm họa (<strong>Disaster Recovery – DR</strong>), việc triển khai hạ tầng đa Region là một chiến lược quan trọng.</p>
<p>Trong bài lab này, bạn sẽ xây dựng một ứng dụng serverless đa Region, có khả năng:</p>
<ul>
<li><strong>Chịu lỗi (Fault-Tolerant)</strong>: Ứng dụng vẫn hoạt động bình thường khi một thành phần bị lỗi.</li>
<li><strong>Khôi phục sau thảm họa (DR)</strong>: Nếu Region chính (Primary) ngừng hoạt động, hệ thống sẽ tự động chuyển sang Region dự phòng (Secondary) mà không gián đoạn dịch vụ cho người dùng cuối.</li>
</ul>
<p>Mục tiêu chính là kết hợp nhiều dịch vụ serverless của AWS để hình thành một kiến trúc toàn diện, an toàn và tự động failover.</p>
<h2 id="kiến-trúc-của-ứng-dụng-mà-chúng-ta-sẽ-xây-dựng">Kiến trúc của ứng dụng mà chúng ta sẽ xây dựng</h2>
<p><img src="/images/1/0001.png?v=2025&amp;featherlight=false&amp;width=60pc" alt="Serverless Failover Architecture"></p>
<h2 id="các-thành-phần-chính-của-kiến-trúc">Các thành phần chính của kiến trúc</h2>
<h3 id="1-amazon-dynamodb-global-tables">1. Amazon DynamoDB Global Tables</h3>
<p><strong>Vai trò</strong>: Là hệ thống lưu trữ dữ liệu chính cho ứng dụng theo mô hình multi-region, multi-active.</p>
<p><strong>Cách hoạt động</strong>: Mọi dữ liệu ghi ở Region này sẽ được tự động đồng bộ sang Region khác chỉ trong vài giây (ví dụ: Singapore ↔ Tokyo).</p>
<p><strong>Lợi ích trong DR</strong>: Khi Primary Region gặp sự cố, Secondary Region vẫn có dữ liệu mới nhất để phục vụ người dùng. Nhờ đó, ứng dụng tránh được mất dữ liệu (zero data loss) và duy trì tính liên tục.</p>
<h3 id="2-aws-lambda-python-functions">2. AWS Lambda (Python Functions)</h3>
<p><strong>Vai trò</strong>: Cung cấp lớp xử lý backend mà không cần quản lý hạ tầng máy chủ.</p>
<p><strong>Cách hoạt động</strong>: Các Lambda function được triển khai song song ở cả hai Region, có nhiệm vụ đọc và ghi dữ liệu từ DynamoDB. Khi người dùng gọi API, Lambda sẽ thực thi logic và trả kết quả ngay.</p>
<p><strong>Lợi ích trong DR</strong>: Vì Lambda thuộc loại serverless, AWS sẽ tự động đảm bảo tính sẵn sàng ở cả hai Region. Khi Route 53 chuyển hướng request, Lambda tại Region còn lại sẽ tiếp tục xử lý mà không cần thay đổi cấu hình thủ công.</p>
<h3 id="3-amazon-api-gateway">3. Amazon API Gateway</h3>
<p><strong>Vai trò</strong>: Đóng vai trò là cửa ngõ API RESTful, kết nối giữa client và Lambda.</p>
<p><strong>Cách hoạt động</strong>: API Gateway được triển khai ở cả Primary và Secondary Region, cung cấp các endpoint thống nhất (stage /prod). Ngoài ra còn hỗ trợ logging, throttling để kiểm soát request.</p>
<p><strong>Lợi ích trong DR</strong>: Người dùng không cần biết API đang chạy ở Region nào. Khi failover xảy ra, Route 53 tự động chuyển DNS sang API Gateway của Region dự phòng, giúp trải nghiệm liền mạch.</p>
<h3 id="4-amazon-route-53">4. Amazon Route 53</h3>
<p><strong>Vai trò</strong>: Quản lý DNS và thực hiện failover dựa trên health check.</p>
<p><strong>Cách hoạt động</strong>: Bạn sẽ cấu hình bản ghi DNS cho domain (ví dụ: api.example.com) trỏ tới API Gateway ở Primary Region, và bản ghi dự phòng (failover) trỏ tới Secondary. Route 53 liên tục giám sát endpoint chính, nếu phát hiện lỗi thì sẽ điều hướng sang Region còn lại.</p>
<p><strong>Lợi ích trong DR</strong>: Việc chuyển hướng được thực hiện hoàn toàn tự động, đảm bảo zero downtime và giảm thiểu rủi ro gián đoạn dịch vụ cho người dùng.</p>
<h3 id="5-aws-certificate-manager-acm">5. AWS Certificate Manager (ACM)</h3>
<p><strong>Vai trò</strong>: Cấp và quản lý chứng chỉ SSL/TLS cho custom domain.</p>
<p><strong>Cách hoạt động</strong>: ACM phát hành chứng chỉ miễn phí, sau đó chứng chỉ này được gắn vào API Gateway Custom Domain để kích hoạt HTTPS.</p>
<p><strong>Lợi ích trong DR</strong>: Giúp mọi request từ client tới API luôn được bảo mật qua HTTPS, tuân thủ các tiêu chuẩn bảo mật và tạo niềm tin cho người dùng.</p>
<h3 id="6-amazon-s3-frontend-website-hosting">6. Amazon S3 (Frontend Website Hosting)</h3>
<p><strong>Vai trò</strong>: Lưu trữ và phân phát website tĩnh (HTML, CSS, JS).</p>
<p><strong>Cách hoạt động</strong>: Website frontend được host trên một bucket S3, có thể kết hợp CloudFront để tăng tốc. Website này sẽ gọi API thông qua domain đã cấu hình với Route 53.</p>
<p><strong>Lợi ích trong DR</strong>: Vì frontend được phân phát từ một nguồn tĩnh và ổn định, khi backend failover, website vẫn hoạt động bình thường. Người dùng sẽ tiếp tục sử dụng mà không cần thay đổi bất kỳ URL nào.</p>
<h2 id="nội-dung-chính">Nội dung chính</h2>
<ol>
<li><a href="/vi/1-create-new-aws-account/">Bước chuẩn bị</a></li>
<li><a href="/vi/2-mfa-setup-for-aws-user-root/">Tạo bảng DynamoDB ở Region chính</a></li>
<li><a href="/vi/3-create-admin-user-and-group/">Tạo IAM Role cho Lambda Functions</a></li>
<li><a href="/vi/4-verify-new-account/">Tạo Lambda Functions ở cả hai Region</a></li>
<li><a href="/vi/5-setup-api-gateway/">Thiết lập API Gateway ở cả hai Region</a></li>
<li><a href="/vi/6-setup-dns-route53-failover/">Thiết lập DNS Route 53 và cấu hình Failover cho API Gateway</a></li>
<li><a href="/vi/7-create-frontend-website/">Create the Frontend Website</a></li>
<li><a href="/vi/8-test-failover-delete-primary-api/">Kiểm thử cơ chế chuyển đổi dự phòng bằng cách xóa API ở primary (Singapore)</a></li>
<li><a href="/vi/9-clean-up-resources/">Xóa tài nguyên (Clean Up)</a></li>
</ol>
	
  
        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
		
			<a class="nav nav-next" href="/vi/1-create-new-aws-account/" title="Bước chuẩn bị" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1759408387"></script>
    <script src="/js/perfect-scrollbar.min.js?1759408387"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1759408387"></script>
    <script src="/js/jquery.sticky.js?1759408387"></script>
    <script src="/js/featherlight.min.js?1759408387"></script>
    <script src="/js/highlight.pack.js?1759408387"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1759408387"></script>
    <script src="/js/learn.js?1759408387"></script>
    <script src="/js/hugo-learn.js?1759408387"></script>

    <link href="/mermaid/mermaid.css?1759408387" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1759408387"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>

