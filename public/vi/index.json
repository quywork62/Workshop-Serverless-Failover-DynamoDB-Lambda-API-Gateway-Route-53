[
{
	"uri": "//localhost:1313/vi/1-create-new-aws-account/",
	"title": "B∆∞·ªõc chu·∫©n b·ªã",
	"tags": [],
	"description": "",
	"content": "Chu·∫©n b·ªã cho Serverless Failover Architecture Tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu x√¢y d·ª±ng ki·∫øn tr√∫c Serverless Failover, ch√∫ng ta c·∫ßn chu·∫©n b·ªã m·ªôt s·ªë th√†nh ph·∫ßn c∆° b·∫£n:\nY√™u c·∫ßu tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu T√†i kho·∫£n AWS: ƒê·∫£m b·∫£o b·∫°n c√≥ t√†i kho·∫£n AWS v·ªõi quy·ªÅn Administrator T√™n mi·ªÅn: Chu·∫©n b·ªã m·ªôt t√™n mi·ªÅn ƒë·ªÉ c·∫•u h√¨nh Route 53 (t√πy ch·ªçn) Ki·∫øn th·ª©c c∆° b·∫£n: Hi·ªÉu bi·∫øt v·ªÅ c√°c d·ªãch v·ª• AWS c∆° b·∫£n C√°c Region s·∫Ω s·ª≠ d·ª•ng Trong b√†i lab n√†y, ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng 2 Region:\nPrimary Region: Singapore (ap-southeast-1) Secondary Region: Tokyo (ap-northeast-1) Ki·∫øn tr√∫c t·ªïng quan Ch√∫ng ta s·∫Ω x√¢y d·ª±ng m·ªôt ·ª©ng d·ª•ng serverless c√≥ kh·∫£ nƒÉng failover t·ª± ƒë·ªông v·ªõi c√°c th√†nh ph·∫ßn:\nDynamoDB Global Tables: L∆∞u tr·ªØ d·ªØ li·ªáu ƒë·ªìng b·ªô gi·ªØa c√°c Region Lambda Functions: X·ª≠ l√Ω logic backend API Gateway: Cung c·∫•p REST API endpoints Route 53: DNS failover v√† health checks S3: Hosting website tƒ©nh N·ªôi dung:\nƒêƒÉng k√≠ t√™n mi·ªÅn t·∫°i TENTEN.VN Hosting tr√™n DATAONLINE.VN S·ª≠ d·ª•ng Cloudflare ƒë·ªÉ qu·∫£n l√Ω t√™n mi·ªÅn) "
},
{
	"uri": "//localhost:1313/vi/1-create-new-aws-account/1.1-find-account-id/",
	"title": "ƒêƒÉng k√≠ t√™n mi·ªÅn t·∫°i TENTEN.VN",
	"tags": [],
	"description": "",
	"content": "ƒê·∫ßu ti√™n, b·∫°n c·∫ßn ƒëƒÉng k√Ω m·ªôt t√™n mi·ªÅn tr√™n trang tenten.vn. Sau khi truy c·∫≠p v√†o website ch√≠nh th·ª©c, h√£y t√¨m ki·∫øm t√™n mi·ªÅn m√† b·∫°n mong mu·ªën, v√≠ d·ª• nh∆∞ turtleclouds.id.vn. N·∫øu t√™n mi·ªÅn n√†y v·∫´n c√≤n tr·ªëng, b·∫°n c√≥ th·ªÉ ti·∫øn h√†nh ƒëƒÉng k√Ω b·∫±ng c√°ch ƒëi·ªÅn th√¥ng tin c√° nh√¢n ho·∫∑c doanh nghi·ªáp ƒë·∫ßy ƒë·ªß, sau ƒë√≥ th·ª±c hi·ªán thanh to√°n tr·ª±c tuy·∫øn. Ngay sau khi ho√†n t·∫•t, h·ªá th·ªëng s·∫Ω g·ª≠i cho b·∫°n th√¥ng tin qu·∫£n l√Ω t√™n mi·ªÅn qua email, cho ph√©p b·∫°n to√†n quy·ªÅn ki·ªÉm so√°t c√°c b·∫£n ghi DNS c≈©ng nh∆∞ thi·∫øt l·∫≠p Nameserver.\nN·ªôi dung 1. V√†o trang ch·ªß tenten.vn ho·∫∑c v√†o xem video h∆∞·ªõng d·∫´n sau theo ƒë∆∞·ªùng link n√†y ƒëƒÉng k√Ω t√™n mi·ªÅn v√† hosting mi·ªÖn ph√≠ t·ª´ tenten.vn 2. Sau khi ƒëƒÉng k√≠ t√™n mi·ªÅn th√†nh c√¥ng c√≥ th·ªÉ ki·ªÉm tra theo c√°c b∆∞·ªõc sau Click theo h∆∞·ªõng d·∫´n c√°c ·∫£nh B·∫°n s·∫Ω th·∫•y t√™n mi·ªÅn c·ªßa b·∫£n th√¢n ƒë√£ ƒëƒÉng k√Ω v√† trang th√°i ho·∫°t ƒë·ªông l√† th√†nh c√¥ng L∆∞u √Ω: Qu√° tr√¨nh t·ª´ l√∫c ƒëƒÉng k√≠ t√™n mi·ªÅn ƒë·∫øn khi nh·∫≠n ƒë∆∞·ª£c email x√°c nh·∫≠n th√†nh c√¥ng c√≥ th·ªÉ m·∫•t ƒë·∫øn 1 ng√†y\n"
},
{
	"uri": "//localhost:1313/vi/2-mfa-setup-for-aws-user-root/1-virtual-mfa-device/",
	"title": "K√≠ch ho·∫°t Global Tables v√† th√™m Region ph·ª•",
	"tags": [],
	"description": "",
	"content": "Amazon DynamoDB Global Tables Amazon DynamoDB Global Tables l√† m·ªôt t√≠nh nƒÉng cho ph√©p nh√¢n b·∫£n d·ªØ li·ªáu t·ª± ƒë·ªông ƒëa Region. Khi b·∫°n b·∫≠t Global Tables, d·ªØ li·ªáu ƒë∆∞·ª£c ghi ·ªü m·ªôt Region s·∫Ω ƒë∆∞·ª£c t·ª± ƒë·ªông sao ch√©p sang c√°c Region kh√°c theo m√¥ h√¨nh multi-active (c·∫£ hai Region ƒë·ªÅu c√≥ th·ªÉ ƒë·ªçc/ghi).\nƒêi·ªÅu n√†y gi√∫p ·ª©ng d·ª•ng:\nT√≠nh s·∫µn s√†ng cao (High Availability): N·∫øu m·ªôt Region g·∫∑p s·ª± c·ªë, ·ª©ng d·ª•ng v·∫´n c√≥ th·ªÉ truy c·∫≠p d·ªØ li·ªáu t·ª´ Region c√≤n l·∫°i. Kh·∫£ nƒÉng ph·ª•c h·ªìi sau th·∫£m h·ªça (Disaster Recovery ‚Äì DR): ƒê·∫£m b·∫£o d·ªØ li·ªáu kh√¥ng b·ªã gi√°n ƒëo·∫°n v√† c√≥ th·ªÉ kh√¥i ph·ª•c nhanh ch√≥ng. Hi·ªáu su·∫•t to√†n c·∫ßu: Ng∆∞·ªùi d√πng ·ªü c√°c khu v·ª±c kh√°c nhau c√≥ th·ªÉ truy c·∫≠p d·ªØ li·ªáu t·ª´ Region g·∫ßn nh·∫•t ƒë·ªÉ gi·∫£m ƒë·ªô tr·ªÖ. Trong b√†i lab n√†y, sau khi t·∫°o b·∫£ng DynamoDB ·ªü Region ch√≠nh (v√≠ d·ª• us-east-1), b·∫°n s·∫Ω b·∫≠t Global Tables ƒë·ªÉ t·∫°o b·∫£n sao sang Region ph·ª• (us-west-2). Khi ho√†n t·∫•t, m·ªçi thay ƒë·ªïi tr√™n b·∫£ng ·ªü m·ªôt Region s·∫Ω ƒë∆∞·ª£c ƒë·ªìng b·ªô g·∫ßn nh∆∞ theo th·ªùi gian th·ª±c sang b·∫£ng ·ªü Region c√≤n l·∫°i.\nB∆∞·ªõc 2: K√≠ch ho·∫°t Global Tables v√† th√™m Region ph·ª• 1. Sau khi ho√†n th√†nh b∆∞·ªõc ƒë·∫ßu, ti·∫øp theo ta s·∫Ω click v√†o b·∫£ng HighAvailabilityTable m·ªõi t·∫°o 2. Trong b·∫£ng v·ª´a t·∫°o, chuy·ªÉn ƒë·∫øn tab Global Tables 3. Ch·ªçn Create replica ‚Üí ch·ªçn Region d·ª± ph√≤ng (v√≠ d·ª•: Tokyo ap-northeast-1) 4. Sau khi t·∫°o ch√∫ng ta s·∫Ω ƒë·ª£i t·ª´ 3 - 5 ph√∫t ƒë·ªÉ kh·ªüi t·∫°o t√†i nguy√™n. Cu·ªëi c√πng khi th·∫•y \u0026ldquo;Replica\u0026rdquo; chuy·ªÉn sang Status Active l√† th√†nh c√¥ng "
},
{
	"uri": "//localhost:1313/vi/6-setup-dns-route53-failover/6.1-setup-dns-delegation/",
	"title": "Quy·∫øt ƒë·ªãnh DNS cho api.turtleclouds.id.vn",
	"tags": [],
	"description": "",
	"content": "Quy·∫øt ƒë·ªãnh DNS cho api.turtleclouds.id.vn ƒê·ªÉ l√†m Step 6 ƒë√∫ng chu·∫©n lab (Route 53 health check + failover), ta ch·ªâ c·∫ßn giao quy·ªÅn DNS c·ªßa ri√™ng subdomain api cho Route 53, c√≤n g·ªëc domain turtleclouds.id.vn v·∫´n ·ªü Cloudflare.\nT·∫°i sao c·∫ßn DNS Delegation? T√°ch bi·ªát qu·∫£n l√Ω: API subdomain ƒë∆∞·ª£c qu·∫£n l√Ω b·ªüi Route 53, domain ch√≠nh v·∫´n ·ªü Cloudflare Health Check: Route 53 c√≥ th·ªÉ th·ª±c hi·ªán health check v√† failover cho API endpoints Flexibility: Kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn c√°c subdomain kh√°c (www, mail, etc.) AWS Integration: T√≠ch h·ª£p t·ªët v·ªõi c√°c d·ªãch v·ª• AWS kh√°c N·ªôi dung T·∫°o Route 53 Hosted Zone L∆∞u l·∫°i NS Records C·∫•u h√¨nh NS Records tr√™n Cloudflare Ki·ªÉm tra DNS Delegation 1. T·∫°o Route 53 Hosted Zone Truy c·∫≠p Route 53 trong AWS Console Ch·ªçn Hosted zones ‚Üí Create hosted zone C·∫•u h√¨nh Hosted Zone:\nDomain name: api.turtleclouds.id.vn Type: Public hosted zone Comment: Subdomain for API Gateway failover Ch·ªçn Create hosted zone 2. L∆∞u l·∫°i NS Records Sau khi t·∫°o hosted zone, Route 53 s·∫Ω c·∫•p 4 b·∫£n ghi NS (Name Server). L∆∞u l·∫°i c√°c NS records n√†y:\nns-xxxx.awsdns-xx.org\rns-xxxx.awsdns-xx.net\rns-xxxx.awsdns-xx.com\rns-xxxx.awsdns-xx.co.uk L∆∞u √Ω: C√°c NS records c·ªßa b·∫°n s·∫Ω kh√°c v·ªõi v√≠ d·ª• tr√™n. H√£y copy ch√≠nh x√°c c√°c NS records m√† Route 53 c·∫•p cho hosted zone c·ªßa b·∫°n.\n3. C·∫•u h√¨nh NS Records tr√™n Cloudflare ƒêƒÉng nh·∫≠p v√†o Cloudflare Dashboard Ch·ªçn domain turtleclouds.id.vn V√†o DNS ‚Üí Records Th√™m NS Records:\nT·∫°o 4 b·∫£n ghi NS, m·ªói b·∫£n ghi cho m·ªôt NS server c·ªßa Route 53:\nB·∫£n ghi 1:\nType: NS Name: api Content: ns-xxxx.awsdns-xx.org TTL: Auto B·∫£n ghi 2:\nType: NS Name: api Content: ns-xxxx.awsdns-xx.net TTL: Auto B·∫£n ghi 3:\nType: NS Name: api Content: ns-xxxx.awsdns-xx.com TTL: Auto B·∫£n ghi 4:\nType: NS Name: api Content: ns-xxxx.awsdns-xx.co.uk TTL: Auto Quan tr·ªçng: ƒê·∫£m b·∫£o Proxy status l√† DNS only (m√†u x√°m), kh√¥ng ph·∫£i Proxied (m√†u cam) cho c√°c NS records.\n4. Ki·ªÉm tra DNS Delegation Sau khi c·∫•u h√¨nh, ki·ªÉm tra xem DNS delegation ƒë√£ ho·∫°t ƒë·ªông ch∆∞a:\nS·ª≠ d·ª•ng nslookup:\nnslookup -type=NS api.turtleclouds.id.vn K·∫øt qu·∫£ mong ƒë·ª£i:\nServer: 8.8.8.8\rAddress: 8.8.8.8#53\rNon-authoritative answer:\rapi.turtleclouds.id.vn nameserver = ns-xxxx.awsdns-xx.org.\rapi.turtleclouds.id.vn nameserver = ns-xxxx.awsdns-xx.net.\rapi.turtleclouds.id.vn nameserver = ns-xxxx.awsdns-xx.com.\rapi.turtleclouds.id.vn nameserver = ns-xxxx.awsdns-xx.co.uk. S·ª≠ d·ª•ng dig (Linux/Mac):\ndig NS api.turtleclouds.id.vn K·∫øt qu·∫£ Sau khi ho√†n th√†nh b∆∞·ªõc n√†y:\n‚úÖ Route 53 Hosted Zone ƒë√£ ƒë∆∞·ª£c t·∫°o cho api.turtleclouds.id.vn ‚úÖ NS Records ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh tr√™n Cloudflare ‚úÖ DNS Delegation ho·∫°t ƒë·ªông ch√≠nh x√°c ‚úÖ Subdomain api gi·ªù ƒë∆∞·ª£c qu·∫£n l√Ω b·ªüi Route 53 Chu·∫©n b·ªã cho b∆∞·ªõc ti·∫øp theo T·ª´ gi·ªù, m·ªçi b·∫£n ghi DNS c·ªßa *.api.turtleclouds.id.vn s·∫Ω do Route 53 qu·∫£n l√Ω, trong khi ph·∫ßn c√≤n l·∫°i (www, root, etc.) v·∫´n ·ªü Cloudflare nh∆∞ hi·ªán t·∫°i.\nTrong b∆∞·ªõc ti·∫øp theo, ch√∫ng ta s·∫Ω t·∫°o SSL certificates cho domain n√†y s·ª≠ d·ª•ng AWS Certificate Manager.\n"
},
{
	"uri": "//localhost:1313/vi/",
	"title": "Serverless Failover: DynamoDB, Lambda, API Gateway &amp; Route 53",
	"tags": [],
	"description": "",
	"content": "Serverless Failover: DynamoDB, Lambda, API Gateway \u0026amp; Route 53 T·ªïng quan Trong m√¥i tr∆∞·ªùng s·∫£n xu·∫•t (production), m·ªôt trong nh·ªØng r·ªßi ro l·ªõn nh·∫•t l√† ng·ª´ng ho·∫°t ƒë·ªông (downtime) khi m·ªôt AWS Region g·∫∑p s·ª± c·ªë. ƒê·ªëi v·ªõi nh·ªØng ·ª©ng d·ª•ng y√™u c·∫ßu t√≠nh s·∫µn s√†ng cao (High Availability ‚Äì HA) v√† kh·∫£ nƒÉng ph·ª•c h·ªìi sau th·∫£m h·ªça (Disaster Recovery ‚Äì DR), vi·ªác tri·ªÉn khai h·∫° t·∫ßng ƒëa Region l√† m·ªôt chi·∫øn l∆∞·ª£c quan tr·ªçng.\nTrong b√†i lab n√†y, b·∫°n s·∫Ω x√¢y d·ª±ng m·ªôt ·ª©ng d·ª•ng serverless ƒëa Region, c√≥ kh·∫£ nƒÉng:\nCh·ªãu l·ªói (Fault-Tolerant): ·ª®ng d·ª•ng v·∫´n ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng khi m·ªôt th√†nh ph·∫ßn b·ªã l·ªói. Kh√¥i ph·ª•c sau th·∫£m h·ªça (DR): N·∫øu Region ch√≠nh (Primary) ng·ª´ng ho·∫°t ƒë·ªông, h·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông chuy·ªÉn sang Region d·ª± ph√≤ng (Secondary) m√† kh√¥ng gi√°n ƒëo·∫°n d·ªãch v·ª• cho ng∆∞·ªùi d√πng cu·ªëi. M·ª•c ti√™u ch√≠nh l√† k·∫øt h·ª£p nhi·ªÅu d·ªãch v·ª• serverless c·ªßa AWS ƒë·ªÉ h√¨nh th√†nh m·ªôt ki·∫øn tr√∫c to√†n di·ªán, an to√†n v√† t·ª± ƒë·ªông failover.\nKi·∫øn tr√∫c c·ªßa ·ª©ng d·ª•ng m√† ch√∫ng ta s·∫Ω x√¢y d·ª±ng C√°c th√†nh ph·∫ßn ch√≠nh c·ªßa ki·∫øn tr√∫c 1. Amazon DynamoDB Global Tables Vai tr√≤: L√† h·ªá th·ªëng l∆∞u tr·ªØ d·ªØ li·ªáu ch√≠nh cho ·ª©ng d·ª•ng theo m√¥ h√¨nh multi-region, multi-active.\nC√°ch ho·∫°t ƒë·ªông: M·ªçi d·ªØ li·ªáu ghi ·ªü Region n√†y s·∫Ω ƒë∆∞·ª£c t·ª± ƒë·ªông ƒë·ªìng b·ªô sang Region kh√°c ch·ªâ trong v√†i gi√¢y (v√≠ d·ª•: Singapore ‚Üî Tokyo).\nL·ª£i √≠ch trong DR: Khi Primary Region g·∫∑p s·ª± c·ªë, Secondary Region v·∫´n c√≥ d·ªØ li·ªáu m·ªõi nh·∫•t ƒë·ªÉ ph·ª•c v·ª• ng∆∞·ªùi d√πng. Nh·ªù ƒë√≥, ·ª©ng d·ª•ng tr√°nh ƒë∆∞·ª£c m·∫•t d·ªØ li·ªáu (zero data loss) v√† duy tr√¨ t√≠nh li√™n t·ª•c.\n2. AWS Lambda (Python Functions) Vai tr√≤: Cung c·∫•p l·ªõp x·ª≠ l√Ω backend m√† kh√¥ng c·∫ßn qu·∫£n l√Ω h·∫° t·∫ßng m√°y ch·ªß.\nC√°ch ho·∫°t ƒë·ªông: C√°c Lambda function ƒë∆∞·ª£c tri·ªÉn khai song song ·ªü c·∫£ hai Region, c√≥ nhi·ªám v·ª• ƒë·ªçc v√† ghi d·ªØ li·ªáu t·ª´ DynamoDB. Khi ng∆∞·ªùi d√πng g·ªçi API, Lambda s·∫Ω th·ª±c thi logic v√† tr·∫£ k·∫øt qu·∫£ ngay.\nL·ª£i √≠ch trong DR: V√¨ Lambda thu·ªôc lo·∫°i serverless, AWS s·∫Ω t·ª± ƒë·ªông ƒë·∫£m b·∫£o t√≠nh s·∫µn s√†ng ·ªü c·∫£ hai Region. Khi Route 53 chuy·ªÉn h∆∞·ªõng request, Lambda t·∫°i Region c√≤n l·∫°i s·∫Ω ti·∫øp t·ª•c x·ª≠ l√Ω m√† kh√¥ng c·∫ßn thay ƒë·ªïi c·∫•u h√¨nh th·ªß c√¥ng.\n3. Amazon API Gateway Vai tr√≤: ƒê√≥ng vai tr√≤ l√† c·ª≠a ng√µ API RESTful, k·∫øt n·ªëi gi·ªØa client v√† Lambda.\nC√°ch ho·∫°t ƒë·ªông: API Gateway ƒë∆∞·ª£c tri·ªÉn khai ·ªü c·∫£ Primary v√† Secondary Region, cung c·∫•p c√°c endpoint th·ªëng nh·∫•t (stage /prod). Ngo√†i ra c√≤n h·ªó tr·ª£ logging, throttling ƒë·ªÉ ki·ªÉm so√°t request.\nL·ª£i √≠ch trong DR: Ng∆∞·ªùi d√πng kh√¥ng c·∫ßn bi·∫øt API ƒëang ch·∫°y ·ªü Region n√†o. Khi failover x·∫£y ra, Route 53 t·ª± ƒë·ªông chuy·ªÉn DNS sang API Gateway c·ªßa Region d·ª± ph√≤ng, gi√∫p tr·∫£i nghi·ªám li·ªÅn m·∫°ch.\n4. Amazon Route 53 Vai tr√≤: Qu·∫£n l√Ω DNS v√† th·ª±c hi·ªán failover d·ª±a tr√™n health check.\nC√°ch ho·∫°t ƒë·ªông: B·∫°n s·∫Ω c·∫•u h√¨nh b·∫£n ghi DNS cho domain (v√≠ d·ª•: api.example.com) tr·ªè t·ªõi API Gateway ·ªü Primary Region, v√† b·∫£n ghi d·ª± ph√≤ng (failover) tr·ªè t·ªõi Secondary. Route 53 li√™n t·ª•c gi√°m s√°t endpoint ch√≠nh, n·∫øu ph√°t hi·ªán l·ªói th√¨ s·∫Ω ƒëi·ªÅu h∆∞·ªõng sang Region c√≤n l·∫°i.\nL·ª£i √≠ch trong DR: Vi·ªác chuy·ªÉn h∆∞·ªõng ƒë∆∞·ª£c th·ª±c hi·ªán ho√†n to√†n t·ª± ƒë·ªông, ƒë·∫£m b·∫£o zero downtime v√† gi·∫£m thi·ªÉu r·ªßi ro gi√°n ƒëo·∫°n d·ªãch v·ª• cho ng∆∞·ªùi d√πng.\n5. AWS Certificate Manager (ACM) Vai tr√≤: C·∫•p v√† qu·∫£n l√Ω ch·ª©ng ch·ªâ SSL/TLS cho custom domain.\nC√°ch ho·∫°t ƒë·ªông: ACM ph√°t h√†nh ch·ª©ng ch·ªâ mi·ªÖn ph√≠, sau ƒë√≥ ch·ª©ng ch·ªâ n√†y ƒë∆∞·ª£c g·∫Øn v√†o API Gateway Custom Domain ƒë·ªÉ k√≠ch ho·∫°t HTTPS.\nL·ª£i √≠ch trong DR: Gi√∫p m·ªçi request t·ª´ client t·ªõi API lu√¥n ƒë∆∞·ª£c b·∫£o m·∫≠t qua HTTPS, tu√¢n th·ªß c√°c ti√™u chu·∫©n b·∫£o m·∫≠t v√† t·∫°o ni·ªÅm tin cho ng∆∞·ªùi d√πng.\n6. Amazon S3 (Frontend Website Hosting) Vai tr√≤: L∆∞u tr·ªØ v√† ph√¢n ph√°t website tƒ©nh (HTML, CSS, JS).\nC√°ch ho·∫°t ƒë·ªông: Website frontend ƒë∆∞·ª£c host tr√™n m·ªôt bucket S3, c√≥ th·ªÉ k·∫øt h·ª£p CloudFront ƒë·ªÉ tƒÉng t·ªëc. Website n√†y s·∫Ω g·ªçi API th√¥ng qua domain ƒë√£ c·∫•u h√¨nh v·ªõi Route 53.\nL·ª£i √≠ch trong DR: V√¨ frontend ƒë∆∞·ª£c ph√¢n ph√°t t·ª´ m·ªôt ngu·ªìn tƒ©nh v√† ·ªïn ƒë·ªãnh, khi backend failover, website v·∫´n ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng. Ng∆∞·ªùi d√πng s·∫Ω ti·∫øp t·ª•c s·ª≠ d·ª•ng m√† kh√¥ng c·∫ßn thay ƒë·ªïi b·∫•t k·ª≥ URL n√†o.\nN·ªôi dung ch√≠nh B∆∞·ªõc chu·∫©n b·ªã T·∫°o b·∫£ng DynamoDB ·ªü Region ch√≠nh T·∫°o IAM Role cho Lambda Functions T·∫°o Lambda Functions ·ªü c·∫£ hai Region Thi·∫øt l·∫≠p API Gateway ·ªü c·∫£ hai Region Thi·∫øt l·∫≠p DNS Route 53 v√† c·∫•u h√¨nh Failover cho API Gateway Create the Frontend Website Ki·ªÉm th·ª≠ c∆° ch·∫ø chuy·ªÉn ƒë·ªïi d·ª± ph√≤ng b·∫±ng c√°ch x√≥a API ·ªü primary (Singapore) X√≥a t√†i nguy√™n (Clean Up) "
},
{
	"uri": "//localhost:1313/vi/5-setup-api-gateway/5.1-create-api-primary-region/",
	"title": "T·∫°o API Gateway ·ªü Region ch√≠nh",
	"tags": [],
	"description": "",
	"content": "T·∫°o API Gateway ·ªü Region ch√≠nh (Singapore) Trong b∆∞·ªõc n√†y, ch√∫ng ta s·∫Ω t·∫°o API Gateway ·ªü Region ch√≠nh (Singapore ap-southeast-1) ƒë·ªÉ cung c·∫•p REST API endpoints cho ·ª©ng d·ª•ng frontend.\nN·ªôi dung Truy c·∫≠p API Gateway Console T·∫°o REST API m·ªõi C·∫•u h√¨nh th√¥ng tin c∆° b·∫£n T·∫°o Resource T·∫°o GET Method (cho ReadFunction) T·∫°o POST Method (cho WriteFunction) Enable CORS cho Resource Deploy API L∆∞u l·∫°i Invoke URL Test API Endpoints 1. Truy c·∫≠p API Gateway Console ƒêƒÉng nh·∫≠p AWS Management Console ƒê·∫£m b·∫£o b·∫°n ƒëang ·ªü Region Singapore (ap-southeast-1) T√¨m v√† ch·ªçn d·ªãch v·ª• API Gateway 2. T·∫°o REST API m·ªõi Ch·ªçn Create API Trong ph·∫ßn REST API, ch·ªçn Build (kh√¥ng ph·∫£i Private REST API) 3. C·∫•u h√¨nh th√¥ng tin c∆° b·∫£n Choose the protocol: REST Create new API: New API API name: HighAvailabilityAPI Description: Primary Region API for Serverless Failover Endpoint Type: Regional Ch·ªçn Create API 4. T·∫°o Resource read Trong API v·ª´a t·∫°o, ch·ªçn Actions ‚Üí Create Resource Resource Name: read Resource Path: /read Enable API Gateway CORS: ‚úÖ (b·∫≠t) Ch·ªçn Create Resource 5. T·∫°o Resource write Trong API v·ª´a t·∫°o, ch·ªçn Actions ‚Üí Create Resource Resource Name: write Resource Path: /write Enable API Gateway CORS: ‚úÖ (b·∫≠t) Ch·ªçn Create Resource 6. T·∫°o GET Method (cho ReadFunction) Ch·ªçn resource /read v·ª´a t·∫°o Ch·ªçn Actions ‚Üí Create Method T·ª´ dropdown, ch·ªçn GET v√† click d·∫•u ‚úÖ C·∫•u h√¨nh Integration:\nIntegration type: Lambda Function Use Lambda Proxy integration: ‚úÖ (b·∫≠t) Lambda Region: ap-southeast-1 Lambda Function: ReadFunction Ch·ªçn Save 7. T·∫°o POST Method (cho WriteFunction) Ch·ªçn resource /write v·ª´a t·∫°o Ch·ªçn Actions ‚Üí Create Method T·ª´ dropdown, ch·ªçn POST v√† click d·∫•u ‚úÖ C·∫•u h√¨nh Integration:\nIntegration type: Lambda Function Use Lambda Proxy integration: ‚úÖ (b·∫≠t) Lambda Region: ap-southeast-1 Lambda Function: WriteFunction Ch·ªçn Save 8. Enable CORS cho Resource Ch·ªçn resource / Ch·ªçn Actions ‚Üí Enable CORS C·∫•u h√¨nh CORS: Access-Control-Allow-Origin: * Access-Control-Allow-Headers: Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token 9. Deploy API Ch·ªçn Actions ‚Üí Deploy API Deployment stage: [New Stage] Stage name: prod Stage description: Production stage for Primary Region Deployment description: Initial deployment Ch·ªçn Deploy 10. L∆∞u l·∫°i Invoke URL Sau khi deploy th√†nh c√¥ng, trong tab Stages ‚Üí prod, b·∫°n s·∫Ω th·∫•y Invoke URL:\nhttps://xxxxxxxxxx.execute-api.ap-southeast-1.amazonaws.com/prod L∆∞u l·∫°i URL n√†y - ch√∫ng ta s·∫Ω c·∫ßn n√≥ ƒë·ªÉ:\nTest API functionality C·∫•u h√¨nh Route 53 health checks T√≠ch h·ª£p v·ªõi frontend application "
},
{
	"uri": "//localhost:1313/vi/1-create-new-aws-account/1.2-update-account/",
	"title": "Hosting tr√™n DATAONLINE.VN",
	"tags": [],
	"description": "",
	"content": "Ti·∫øp theo, b·∫°n c·∫ßn chu·∫©n b·ªã m·ªôt d·ªãch v·ª• hosting tr√™n DataOnline ƒë·ªÉ l∆∞u tr·ªØ v√† v·∫≠n h√†nh website. Khi ƒëƒÉng k√Ω g√≥i hosting ph√π h·ª£p, nh√† cung c·∫•p s·∫Ω g·ª≠i cho b·∫°n ƒë·ªãa ch·ªâ IP m√°y ch·ªß c√πng th√¥ng tin ƒëƒÉng nh·∫≠p qu·∫£n tr·ªã cPanel ho·∫∑c Plesk.\nN·ªôi dung Truy c·∫≠p trang ch·ªß DataOnline ƒêƒÉng k√Ω g√≥i Hosting ƒêƒÉng nh·∫≠p Control Panel Qu·∫£n l√Ω DNS T·∫°o DNS Records 1. V√†o trang ch·ªß dataonline.vn ho·∫∑c v√†o xem video h∆∞·ªõng d·∫´n sau theo ƒë∆∞·ªùng link n√†y Hosting mi·ªÖn ph√≠, ch·∫•t l∆∞·ª£ng nh∆∞ host tr·∫£ ph√≠, host free kh√¥ng c√≥ qu·∫£ng c√°o t·∫°i Dataonline 2. Sau khi ƒëƒÉng k√Ω g√≥i Hosting ch√∫ng ta s·∫Ω t·∫°o c√°c b·∫£n ghi 3. Click ti·∫øp v√†o ƒëƒÉng nh·∫≠p v√†o Control Panel Click th√™m m·ªôt l·∫ßn n·ªØa v√†o ƒëƒÉng nh·∫≠p v√†o Control Panel 4. Ti·∫øp ƒë√≥ ta click v√†o DNS Management 5. Cu·ªëi c√πng ta t·∫°o c√°c 2 b·∫£n ghi ƒê·∫ßu ti√™n, h√£y t·∫°o b·∫£n ghi A record cho root domain (k√Ω hi·ªáu @), tr·ªè v·ªÅ ƒë·ªãa ch·ªâ IP m√°y ch·ªß do DataOnline cung c·∫•p. Sau ƒë√≥, ti·∫øp t·ª•c t·∫°o th√™m b·∫£n ghi A record cho ti·ªÅn t·ªë www, c≈©ng tr·ªè v·ªÅ c√πng IP hosting. Hai b·∫£n ghi n√†y s·∫Ω ƒë·∫£m b·∫£o khi ng∆∞·ªùi d√πng nh·∫≠p v√†o tr√¨nh duy·ªát ƒë·ªãa ch·ªâ turtleclouds.id.vn ho·∫∑c www.turtleclouds.id.vn , h·ªá th·ªëng ƒë·ªÅu ƒëi·ªÅu h∆∞·ªõng ƒë√∫ng v·ªÅ website ƒë∆∞·ª£c l∆∞u tr·ªØ tr√™n DataOnline.\n"
},
{
	"uri": "//localhost:1313/vi/6-setup-dns-route53-failover/6.2-acm-ssl-certificates/",
	"title": "L√†m ACM DNS validation cho c·∫£ 2 region",
	"tags": [],
	"description": "",
	"content": "L√†m ACM DNS validation cho c·∫£ 2 region B·∫°n ƒëang d√πng Regional API ·ªü ap-southeast-1 (Singapore ‚Äì ch√≠nh) v√† ap-northeast-1 (Tokyo ‚Äì ph·ª•), n√™n c·∫ßn 2 certificate, m·ªói c√°i ·ªü ƒë√∫ng region t∆∞∆°ng ·ª©ng.\nT·∫°i sao c·∫ßn SSL Certificates cho c·∫£ hai Region? Regional Requirement: API Gateway Regional endpoints c·∫ßn certificate ·ªü c√πng Region Custom Domain: ƒê·ªÉ s·ª≠ d·ª•ng domain ri√™ng thay v√¨ URL AWS m·∫∑c ƒë·ªãnh HTTPS Security: ƒê·∫£m b·∫£o t·∫•t c·∫£ API calls ƒë∆∞·ª£c m√£ h√≥a Failover Support: C·∫£ hai Region ƒë·ªÅu c·∫ßn c√≥ SSL ƒë·ªÉ failover ho·∫°t ƒë·ªông N·ªôi dung T·∫°o Certificate cho Singapore Region DNS Validation cho Singapore T·∫°o Certificate cho Tokyo Region DNS Validation cho Tokyo Ki·ªÉm tra Certificate Status 1. T·∫°o Certificate cho Singapore Region ƒê·∫£m b·∫£o b·∫°n ƒëang ·ªü Region Singapore (ap-southeast-1) Truy c·∫≠p AWS Certificate Manager (ACM) Ch·ªçn Request a certificate C·∫•u h√¨nh Certificate:\nCertificate type: Request a public certificate Ch·ªçn Next Domain names:\nFully qualified domain name: api.turtleclouds.id.vn N·∫øu c·∫ßn th√™m SAN (Subject Alternative Names): www.api.turtleclouds.id.vn Validation method: DNS validation Key algorithm: RSA 2048 Ch·ªçn Request 2. DNS Validation cho Singapore ACM s·∫Ω hi·ªÉn th·ªã th√¥ng tin validation. B·∫°n s·∫Ω th·∫•y m·ªôt b·∫£n ghi CNAME c·∫ßn t·∫°o:\nV√≠ d·ª• CNAME record:\nName: _4724b28c2f251eaf0f8e5de086a13395.api.turtleclouds.id.vn Value: _d527ab199f33beee1a7c9dedf48c932a.xlfgrmvvlj.acm-validations.aws üëâ ·ªû giao di·ªán ACM, ch·ªçn Create records in Route 53 ƒë·ªÉ t·∫°o t·ª± ƒë·ªông. T·∫°o b·∫£n ghi DNS trong Route 53 Khi b·∫•m n√∫t, ACM s·∫Ω m·ªü giao di·ªán t·∫°o b·∫£n ghi DNS tr√™n Route 53.\nDomain: api.turtleclouds.id.vn\nValidation status*: Pending validation\nCh·ªçn Create records ƒë·ªÉ x√°c nh·∫≠n. X√°c minh tr·∫°ng th√°i Sau khi t·∫°o xong, quay l·∫°i m√†n h√¨nh chi ti·∫øt certificate trong ACM.\nTr·∫°ng th√°i s·∫Ω l√† Pending validation.\nSau v√†i ph√∫t, khi DNS propagation ho√†n t·∫•t, ACM s·∫Ω t·ª± ƒë·ªông ƒë·ªïi sang Issued. L∆∞u √Ω: V√¨ subdomain api.* ƒë√£ ƒë∆∞·ª£c ·ªßy quy·ªÅn DNS cho Route 53, b·∫°n t·∫°o b·∫£n ghi CNAME tr·ª±c ti·∫øp trong Route 53 (zone: api.turtleclouds.id.vn), kh√¥ng c·∫ßn thao t√°c ·ªü Cloudflare.\n3. T·∫°o Certificate cho Tokyo Region Chuy·ªÉn sang Region Tokyo (ap-northeast-1) Truy c·∫≠p AWS Certificate Manager (ACM) L·∫∑p l·∫°i c√°c b∆∞·ªõc t∆∞∆°ng t·ª± nh∆∞ Singapore C·∫•u h√¨nh Certificate:\nDomain name: api.turtleclouds.id.vn Validation method: DNS validation Key algorithm: RSA 2048 Ch·ªçn Request 4. DNS Validation cho Tokyo ACM Tokyo s·∫Ω cung c·∫•p m·ªôt CNAME record kh√°c ƒë·ªÉ validation:\nV√≠ d·ª• CNAME record cho Tokyo:\nName: _8956c39d4e362bfb2c9f7a180b24567e.api.turtleclouds.id.vn Value: _f638bc210e44ceef2d8d0f57f49c843b.ylfgrmvvlj.acm-validations.aws üëâ ·ªû giao di·ªán ACM, ch·ªçn Create records in Route 53 ƒë·ªÉ t·∫°o t·ª± ƒë·ªông.\nT·∫°o b·∫£n ghi DNS trong Route 53 Khi b·∫•m n√∫t, ACM s·∫Ω m·ªü giao di·ªán t·∫°o b·∫£n ghi DNS tr√™n Route 53.\nDomain: api.turtleclouds.id.vn\nValidation status*: Pending validation\nCh·ªçn Create records ƒë·ªÉ x√°c nh·∫≠n.\nX√°c minh tr·∫°ng th√°i Sau khi t·∫°o xong, quay l·∫°i m√†n h√¨nh chi ti·∫øt certificate trong ACM.\nTr·∫°ng th√°i s·∫Ω l√† Pending validation.\nSau v√†i ph√∫t, khi DNS propagation ho√†n t·∫•t, ACM s·∫Ω t·ª± ƒë·ªông ƒë·ªïi sang Issued.\nL∆∞u √Ω: V√¨ subdomain api.* ƒë√£ ƒë∆∞·ª£c ·ªßy quy·ªÅn DNS cho Route 53, b·∫°n t·∫°o b·∫£n ghi CNAME tr·ª±c ti·∫øp trong Route 53 (zone: api.turtleclouds.id.vn), kh√¥ng c·∫ßn thao t√°c ·ªü Cloudflare.\n5. Ki·ªÉm tra Certificate Status Ki·ªÉm tra Singapore Certificate:\nQuay l·∫°i ACM trong Region Singapore ƒê·ª£i status chuy·ªÉn t·ª´ Pending validation ‚Üí Issued (th∆∞·ªùng 2-10 ph√∫t) Ki·ªÉm tra Tokyo Certificate:\nChuy·ªÉn sang ACM trong Region Tokyo ƒê·ª£i status chuy·ªÉn t·ª´ Pending validation ‚Üí Issued Troubleshooting N·∫øu certificate kh√¥ng ƒë∆∞·ª£c issued sau 15 ph√∫t:\nKi·ªÉm tra CNAME records: ƒê·∫£m b·∫£o ƒë√£ t·∫°o ƒë√∫ng trong Route 53 Ki·ªÉm tra DNS propagation: S·ª≠ d·ª•ng nslookup ƒë·ªÉ verify Ki·ªÉm tra TTL: ƒê·∫£m b·∫£o TTL kh√¥ng qu√° cao (khuy·∫øn ngh·ªã 300s) nslookup -type=CNAME _4724b28c2f251eaf0f8e5de086a13395.api.turtleclouds.id.vn K·∫øt qu·∫£ Sau khi ho√†n th√†nh b∆∞·ªõc n√†y:\n‚úÖ SSL Certificate ƒë√£ ƒë∆∞·ª£c issued cho Singapore Region ‚úÖ SSL Certificate ƒë√£ ƒë∆∞·ª£c issued cho Tokyo Region ‚úÖ DNS Validation ho·∫°t ƒë·ªông ch√≠nh x√°c ‚úÖ CNAME Records ƒë√£ ƒë∆∞·ª£c t·∫°o trong Route 53 Chu·∫©n b·ªã cho b∆∞·ªõc ti·∫øp theo V·ªõi 2 SSL certificates ƒë√£ s·∫µn s√†ng, ch√∫ng ta c√≥ th·ªÉ t·∫°o Custom Domain Names cho API Gateway ·ªü c·∫£ hai Region trong b∆∞·ªõc ti·∫øp theo.\n"
},
{
	"uri": "//localhost:1313/vi/5-setup-api-gateway/5.2-create-api-secondary-region/",
	"title": "Nh√¢n b·∫£n API Gateway sang Region ph·ª•",
	"tags": [],
	"description": "",
	"content": "Nh√¢n b·∫£n API Gateway sang Region ph·ª• (Tokyo) Trong b∆∞·ªõc n√†y, ch√∫ng ta s·∫Ω t·∫°o API Gateway t∆∞∆°ng t·ª± ·ªü Region ph·ª• (Tokyo ap-northeast-1) ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh s·∫µn s√†ng cao v√† kh·∫£ nƒÉng failover.\nT·∫°i sao c·∫ßn nh√¢n b·∫£n API Gateway? High Availability: N·∫øu Primary Region g·∫∑p s·ª± c·ªë, Secondary Region v·∫´n c√≥ th·ªÉ ph·ª•c v·ª• Disaster Recovery: ƒê·∫£m b·∫£o zero downtime khi failover x·∫£y ra Performance: Ng∆∞·ªùi d√πng ·ªü khu v·ª±c ch√¢u √Å c√≥ th·ªÉ truy c·∫≠p t·ª´ Region g·∫ßn h∆°n Load Distribution: Ph√¢n t√°n t·∫£i gi·ªØa c√°c Region N·ªôi dung Chuy·ªÉn sang Region ph·ª• T·∫°o API Gateway t∆∞∆°ng t·ª± ·ªü b∆∞·ªõc 5.1 Truy c·∫≠p API Gateway Console T·∫°o REST API m·ªõi C·∫•u h√¨nh th√¥ng tin c∆° b·∫£n T·∫°o Resource read T·∫°o Resource write T·∫°o GET Method (cho ReadFunction) T·∫°o POST Method (cho WriteFunction) Enable CORS cho Resource Deploy API L∆∞u l·∫°i Invoke URL 1. Chuy·ªÉn sang Region ph·ª• Trong AWS Console, chuy·ªÉn Region t·ª´ Singapore sang Tokyo (ap-northeast-1) Truy c·∫≠p d·ªãch v·ª• API Gateway 2. T·∫°o API Gateway t∆∞∆°ng t·ª± ·ªü b∆∞·ªõc 5.1 3. Truy c·∫≠p API Gateway Console ƒêƒÉng nh·∫≠p AWS Management Console ƒê·∫£m b·∫£o b·∫°n ƒëang ·ªü Region Tokyo (ap-northeast-1) T√¨m v√† ch·ªçn d·ªãch v·ª• API Gateway 4. T·∫°o REST API m·ªõi Ch·ªçn Create API Trong ph·∫ßn REST API, ch·ªçn Build (kh√¥ng ph·∫£i Private REST API) 5. C·∫•u h√¨nh th√¥ng tin c∆° b·∫£n Choose the protocol: REST Create new API: New API API name: HighAvailabilityAPI Description: Primary Region API for Serverless Failover Endpoint Type: Regional Ch·ªçn Create API 6. T·∫°o Resource read Trong API v·ª´a t·∫°o, ch·ªçn Actions ‚Üí Create Resource Resource Name: read Resource Path: /read Enable API Gateway CORS: ‚úÖ (b·∫≠t) Ch·ªçn Create Resource 7. T·∫°o Resource write Trong API v·ª´a t·∫°o, ch·ªçn Actions ‚Üí Create Resource Resource Name: write Resource Path: /write Enable API Gateway CORS: ‚úÖ (b·∫≠t) Ch·ªçn Create Resource 8. T·∫°o GET Method (cho ReadFunction) Ch·ªçn resource /read v·ª´a t·∫°o Ch·ªçn Actions ‚Üí Create Method T·ª´ dropdown, ch·ªçn GET v√† click d·∫•u ‚úÖ C·∫•u h√¨nh Integration:\nIntegration type: Lambda Function Use Lambda Proxy integration: ‚úÖ (b·∫≠t) Lambda Region: Tokyo (ap-northeast-1) Lambda Function: ReadFunction Ch·ªçn Save 9. T·∫°o POST Method (cho WriteFunction) Ch·ªçn resource /write v·ª´a t·∫°o Ch·ªçn Actions ‚Üí Create Method T·ª´ dropdown, ch·ªçn POST v√† click d·∫•u ‚úÖ C·∫•u h√¨nh Integration:\nIntegration type: Lambda Function Use Lambda Proxy integration: ‚úÖ (b·∫≠t) Lambda Region: Tokyo (ap-northeast-1) Lambda Function: WriteFunction Ch·ªçn Save 10. Enable CORS cho Resource Ch·ªçn resource / Ch·ªçn Actions ‚Üí Enable CORS C·∫•u h√¨nh CORS:\nAccess-Control-Allow-Origin: * Access-Control-Allow-Headers: Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token 11. Deploy API Ch·ªçn Actions ‚Üí Deploy API Deployment stage: [New Stage] Stage name: prod Stage description: Production stage for Primary Region Deployment description: Initial deployment Ch·ªçn Deploy 12. L∆∞u l·∫°i Invoke URL Sau khi deploy th√†nh c√¥ng, trong tab Stages ‚Üí prod, b·∫°n s·∫Ω th·∫•y Invoke URL:\nhttps://xxxxxxxxxx.execute-api.ap-northeast-1.amazonaws.com/prod L∆∞u l·∫°i URL n√†y - ch√∫ng ta s·∫Ω c·∫ßn n√≥ ƒë·ªÉ:\nTest API functionality C·∫•u h√¨nh Route 53 health checks T√≠ch h·ª£p v·ªõi frontend application "
},
{
	"uri": "//localhost:1313/vi/2-mfa-setup-for-aws-user-root/",
	"title": "T·∫°o b·∫£ng DynamoDB ·ªü Region ch√≠nh",
	"tags": [],
	"description": "",
	"content": "Gi·ªõi thi·ªáu DynamoDB Amazon DynamoDB l√† d·ªãch v·ª• c∆° s·ªü d·ªØ li·ªáu NoSQL ƒë∆∞·ª£c qu·∫£n l√Ω ho√†n to√†n (fully managed NoSQL database), cung c·∫•p kh·∫£ nƒÉng l∆∞u tr·ªØ d·ªØ li·ªáu d·∫°ng key-value v√† document v·ªõi ƒë·ªô tr·ªÖ ch·ªâ v√†i mili-gi√¢y ·ªü m·ªçi quy m√¥. ∆Øu ƒëi·ªÉm l·ªõn c·ªßa DynamoDB l√† t·ª± ƒë·ªông m·ªü r·ªông (auto scaling), kh√¥ng c·∫ßn qu·∫£n l√Ω m√°y ch·ªß, v√† t√≠ch h·ª£p s·∫µn t√≠nh nƒÉng b·∫£o m·∫≠t, backup, caching.\nTrong b√†i lab n√†y, DynamoDB ƒë√≥ng vai tr√≤ l√† n·ªÅn t·∫£ng l∆∞u tr·ªØ ch√≠nh c·ªßa ·ª©ng d·ª•ng, ƒë·∫£m b·∫£o d·ªØ li·ªáu ƒë∆∞·ª£c nh√¢n b·∫£n t·ª± ƒë·ªông gi·ªØa nhi·ªÅu Region th√¥ng qua Global Tables, gi√∫p ·ª©ng d·ª•ng duy tr√¨ t√≠nh s·∫µn s√†ng v√† nh·∫•t qu√°n ngay c·∫£ khi m·ªôt Region g·∫∑p s·ª± c·ªë.\nN·ªôi dung T·∫°o b·∫£ng DynamoDB ·ªü Region ch√≠nh K√≠ch ho·∫°t Global Tables v√† th√™m Region ph·ª• B∆∞·ªõc 1. T·∫°o b·∫£ng DynamoDB ·ªü Region ch√≠nh 1. ƒêƒÉng nh·∫≠p AWS Management Console 2. V√†o d·ªãch v·ª• DynamoDB 3. T·∫°o b·∫£ng m·ªõi trong Region ch√≠nh (v√≠ d·ª•: ap-southeast-1) Table name: HighAvailabilityTable\nPartition key: ItemId (String)\n4. Ta s·∫Ω ch·ªçn \u0026ldquo;Default Settings\u0026rdquo; ·ªü b·∫£ng Table Settings 5. Cu·ªëi c√πng ch·ªçn \u0026ldquo;Create table\u0026rdquo; ƒê·ª£i kho·∫£ng 2 - 3 ph√∫t ƒë·ªÉ kh·ªüi t·∫°o t√†i nguy√™n. Ki·ªÉm tra Status chuy·ªÉn sang \u0026ldquo;Active\u0026rdquo; l√† th√†nh c√¥ng "
},
{
	"uri": "//localhost:1313/vi/1-create-new-aws-account/1.3-aws-account-alias/",
	"title": "S·ª≠ d·ª•ng Cloudflare ƒë·ªÉ qu·∫£n l√Ω t√™n mi·ªÅn",
	"tags": [],
	"description": "",
	"content": "Sau khi ƒë√£ tr·ªè t√™n mi·ªÅn turtleclouds.id.vn v·ªÅ ƒë·ªãa ch·ªâ IP hosting tr√™n DataOnline, b∆∞·ªõc ti·∫øp theo l√† s·ª≠ d·ª•ng Cloudflare ƒë·ªÉ qu·∫£n l√Ω v√† t·ªëi ∆∞u t√™n mi·ªÅn. Cloudflare ho·∫°t ƒë·ªông nh∆∞ m·ªôt l·ªõp trung gian gi·ªØa ng∆∞·ªùi d√πng v√† m√°y ch·ªß, v·ª´a gi√∫p tƒÉng t·ªëc ƒë·ªô truy c·∫≠p nh·ªù h·ªá th·ªëng CDN to√†n c·∫ßu, v·ª´a tƒÉng c∆∞·ªùng b·∫£o m·∫≠t v·ªõi t∆∞·ªùng l·ª≠a v√† ch·ªëng t·∫•n c√¥ng DDoS. Tr∆∞·ªõc ti√™n, b·∫°n c·∫ßn t·∫°o m·ªôt t√†i kho·∫£n mi·ªÖn ph√≠ t·∫°i dash.cloudflare.com v√† th√™m t√™n mi·ªÅn turtleclouds.id.vn v√†o h·ªá th·ªëng. Cloudflare s·∫Ω t·ª± ƒë·ªông qu√©t v√† nh·∫≠p c√°c b·∫£n ghi DNS hi·ªán c√≥, ƒë·ªìng th·ªùi cung c·∫•p cho b·∫°n hai Nameserver m·ªõi.\nN·ªôi dung ƒêƒÉng nh·∫≠p v√†o Cloudflare v√† nh·∫≠p t√™n mi·ªÅn C·∫•u h√¨nh DNS Records C·∫≠p nh·∫≠t Nameserver t·∫°i tenten.vn Ki·ªÉm tra k·∫øt qu·∫£ B∆∞·ªõc 1: ƒêƒÉng nh·∫≠p v√†o Cloudflare v√† nh·∫≠p t√™n mi·ªÅn ƒë√£ ƒëƒÉng k√≠ , ·ªü ƒë√¢y v√≠ d·ª• turtleclouds.id.vn B∆∞·ªõc 2: V√†o b·∫£ng ƒëi·ªÅu khi·ªÉn ch·ªçn DNS ti·∫øp ƒë√≥ ch·ªçn Records. Ti·∫øp ƒë√≥ c·ªçn Add records ƒë·ªÉ th√™m 2 b·∫£n ghi B∆∞·ªõc 3: C·∫≠p nh·∫≠t Nameserver t·∫°i tenten.vn Ti·∫øp theo, b·∫°n ƒëƒÉng nh·∫≠p v√†o trang qu·∫£n l√Ω t√™n mi·ªÅn t·∫°i tenten.vn, t√¨m ƒë·∫øn ph·∫ßn Qu·∫£n l√Ω Nameserver v√† thay ƒë·ªïi c√°c Nameserver m·∫∑c ƒë·ªãnh sang hai ƒë·ªãa ch·ªâ m√† Cloudflare v·ª´a cung c·∫•p. L∆∞u l·∫°i thay ƒë·ªïi v√† ch·ªù h·ªá th·ªëng c·∫≠p nh·∫≠t. V√†o Thao t√°c ti·∫øp ƒë√≥ ch·ªçn C√†i ƒë·∫∑t NS Thay ƒë·ªïi 2 b·∫£n ghi NS c·ªßa tenten.vn b·∫±ng 2 b·∫£n ghi NS c·ªßa Cloudflare v√† nh·∫•n C·∫≠p nh·∫≠t B∆∞·ªõc 4:B∆∞·ªõc ki·ªÉm tra cu·ªëi c√πng Sau khi ƒë√£ c·∫•u h√¨nh Nameserver t·∫°i tenten.vn v√† ho√†n t·∫•t thi·∫øt l·∫≠p DNS tr√™n Cloudflare, h√£y m·ªü Command Prompt ho·∫∑c PowerShell tr√™n m√°y t√≠nh v√† s·ª≠ d·ª•ng l·ªánh: ping turtleclouds.id.vn K·∫øt qu·∫£ "
},
{
	"uri": "//localhost:1313/vi/6-setup-dns-route53-failover/6.3-api-gateway-custom-domains/",
	"title": "T·∫°o Custom domain cho API Gateway (m·ªói region m·ªôt c√°i)",
	"tags": [],
	"description": "",
	"content": "T·∫°o Custom domain cho API Gateway (m·ªói region m·ªôt c√°i) Sau khi c√≥ SSL certificates ·ªü c·∫£ hai Region, ch√∫ng ta s·∫Ω t·∫°o Custom Domain Names cho API Gateway ƒë·ªÉ s·ª≠ d·ª•ng domain ri√™ng thay v√¨ URL AWS m·∫∑c ƒë·ªãnh.\nT·∫°i sao c·∫ßn Custom Domain? Professional URL: S·ª≠ d·ª•ng api.turtleclouds.id.vn thay v√¨ URL AWS d√†i SSL/TLS: K√≠ch ho·∫°t HTTPS v·ªõi certificate ri√™ng Branding: Th·ªëng nh·∫•t v·ªõi brand v√† domain ch√≠nh Failover Ready: Chu·∫©n b·ªã cho Route 53 failover configuration N·ªôi dung T·∫°o Custom Domain cho Singapore Region C·∫•u h√¨nh API Mapping cho Singapore L∆∞u Regional Domain Name Singapore T·∫°o Custom Domain cho Tokyo Region C·∫•u h√¨nh API Mapping cho Tokyo L∆∞u Regional Domain Name Tokyo 1. T·∫°o Custom Domain cho Singapore Region ƒê·∫£m b·∫£o b·∫°n ƒëang ·ªü Region Singapore (ap-southeast-1) Truy c·∫≠p API Gateway ‚Üí Custom domain names Ch·ªçn Add domain names C·∫•u h√¨nh Custom Domain:\nDomain name: api.turtleclouds.id.vn Endpoint type: Regional ACM certificate: Ch·ªçn certificate Issued c·ªßa Singapore Region Security policy: TLS 1.2 Ch·ªçn Add domain name 2. C·∫•u h√¨nh API Mapping cho Singapore Sau khi t·∫°o custom domain, c·∫ßn map v·ªõi API Gateway:\nTrong custom domain v·ª´a t·∫°o, ch·ªçn tab API mappings Ch·ªçn Configure API mappings Th√™m API Mapping:\nCh·ªçn Add new mapping API: Ch·ªçn HighAvailabilityAPI Stage: prod Path: ƒë·ªÉ tr·ªëng (root path) Ch·ªçn Save 3. L∆∞u Regional Domain Name Singapore Sau khi t·∫°o custom domain, API Gateway s·∫Ω sinh ra m·ªôt Regional domain name. L∆∞u l·∫°i th√¥ng tin n√†y:\nV√≠ d·ª• Regional Domain Name:\nd-a7cx5xv22d.execute-api.ap-southeast-1.amazonaws.com Quan tr·ªçng: Regional domain name n√†y s·∫Ω ƒë∆∞·ª£c s·ª≠ d·ª•ng trong Route 53 ƒë·ªÉ t·∫°o ALIAS records cho failover.\n4. T·∫°o Custom Domain cho Tokyo Region Chuy·ªÉn sang Region Tokyo (ap-northeast-1) Truy c·∫≠p API Gateway ‚Üí Custom domain names Ch·ªçn Add domain names C·∫•u h√¨nh Custom Domain:\nDomain name: api.turtleclouds.id.vn Endpoint type: Regional ACM certificate: Ch·ªçn certificate Issued c·ªßa Tokyo Region Security policy: TLS 1.2 Ch·ªçn Add domain name 5. C·∫•u h√¨nh API Mapping cho Tokyo Trong custom domain Tokyo, ch·ªçn tab API mappings Ch·ªçn Configure API mappings Th√™m API Mapping:\nCh·ªçn Add new mapping API: Ch·ªçn HighAvailabilityAPI Stage: prod Path: ƒë·ªÉ tr·ªëng (root path) Ch·ªçn Save 6. L∆∞u Regional Domain Name Tokyo L∆∞u l·∫°i Regional domain name c·ªßa Tokyo:\nV√≠ d·ª• Regional Domain Name Tokyo:\nd-b8dy6yw33e.execute-api.ap-northeast-1.amazonaws.com K·∫øt qu·∫£ Sau khi ho√†n th√†nh b∆∞·ªõc n√†y:\n‚úÖ Custom Domain ƒë√£ ƒë∆∞·ª£c t·∫°o cho Singapore Region ‚úÖ Custom Domain ƒë√£ ƒë∆∞·ª£c t·∫°o cho Tokyo Region ‚úÖ API Mappings ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh cho c·∫£ hai Region ‚úÖ Regional Domain Names ƒë√£ ƒë∆∞·ª£c l∆∞u l·∫°i ƒë·ªÉ s·ª≠ d·ª•ng trong Route 53 Th√¥ng tin c·∫ßn l∆∞u Region Custom Domain Regional Domain Name Certificate Singapore api.turtleclouds.id.vn d-pbm3eqaneb.execute-api.ap-southeast-1.amazonaws.com ACM Singapore Tokyo api.turtleclouds.id.vn d-15ro7mhib1.execute-api.ap-northeast-1.amazonaws.com ACM Tokyo Chu·∫©n b·ªã cho b∆∞·ªõc ti·∫øp theo V·ªõi Custom Domains ƒë√£ s·∫µn s√†ng, ch√∫ng ta c√≥ th·ªÉ t·∫°o Route 53 Health Checks v√† Failover Records trong b∆∞·ªõc cu·ªëi c√πng.\n"
},
{
	"uri": "//localhost:1313/vi/3-create-admin-user-and-group/",
	"title": "T·∫°o IAM Role cho Lambda Functions",
	"tags": [],
	"description": "",
	"content": "Trong AWS, IAM Role gi·ªëng nh∆∞ m·ªôt ‚Äút·∫≠p quy·ªÅn‚Äù (permission set) ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a s·∫µn. Role kh√¥ng g·∫Øn c·ªë ƒë·ªãnh cho m·ªôt ng∆∞·ªùi d√πng c·ª• th·ªÉ, m√† ƒë∆∞·ª£c c√°c d·ªãch v·ª• AWS ho·∫∑c ·ª©ng d·ª•ng t·∫°m th·ªùi ‚Äúm∆∞·ª£n‚Äù ƒë·ªÉ c√≥ quy·ªÅn th·ª±c hi·ªán h√†nh ƒë·ªông.\nV√≠ d·ª•:\nAWS Lambda c·∫ßn m·ªôt Role ƒë·ªÉ c√≥ quy·ªÅn ƒë·ªçc/ghi d·ªØ li·ªáu v√†o DynamoDB.\nEC2 Instance c√≥ th·ªÉ g√°n m·ªôt Role ƒë·ªÉ truy c·∫≠p S3 m√† kh√¥ng c·∫ßn l∆∞u Access Key/Secret Key trong m√°y.\nƒêi·ªÉm kh√°c bi·ªát so v·ªõi IAM User:\nUser: g·∫Øn li·ªÅn v·ªõi m·ªôt c√° nh√¢n ho·∫∑c ·ª©ng d·ª•ng, c√≥ username \u0026amp; password ho·∫∑c access key.\nRole: kh√¥ng c√≥ th√¥ng tin ƒëƒÉng nh·∫≠p ri√™ng, ch·ªâ c·∫•p quy·ªÅn t·∫°m th·ªùi cho d·ªãch v·ª• ho·∫∑c user/·ª©ng d·ª•ng assume (nh·∫≠n) n√≥.\nüëâ Trong b√†i lab n√†y, b·∫°n s·∫Ω t·∫°o m·ªôt Role t√™n LambdaDynamoDBRole ƒë·ªÉ cho ph√©p Lambda Functions:\nTruy c·∫≠p DynamoDB.\nGhi log v√†o CloudWatch.\nN·ªôi dung M·ªü IAM Console T·∫°o Role m·ªõi cho Lambda G√°n quy·ªÅn cho Role ƒê·∫∑t t√™n v√† t·∫°o Role L∆∞u l·∫°i ARN c·ªßa Role T·∫°o IAM Role cho Lambda Functions 1. M·ªü IAM Console ƒêƒÉng nh·∫≠p AWS Management Console.\nT√¨m v√† ch·ªçn d·ªãch v·ª• IAM.\n2. T·∫°o Role m·ªõi cho Lambda Ch·ªçn Roles ‚Üí Create role.\n·ªû m·ª•c Trusted entity type, ch·ªçn AWS Service.\nCh·ªçn d·ªãch v·ª• Lambda, sau ƒë√≥ b·∫•m Next. 3. G√°n quy·ªÅn cho Role T√¨m v√† ch·ªçn 2 policy:\nAmazonDynamoDBFullAccess ‚Üí cho ph√©p Lambda thao t√°c v·ªõi DynamoDB.\nAWSLambdaBasicExecutionRole ‚Üí cho ph√©p Lambda ghi log l√™n CloudWatch. Nh·∫•n Next 4. ƒê·∫∑t t√™n v√† t·∫°o Role Nh·∫≠p Role name: LambdaDynamoDBRole.\nNh·∫•n Create role ƒë·ªÉ ho√†n t·∫•t.\nB·∫°n ƒë√£ t·∫°o Role th√†nh c√¥ng 5. L∆∞u l·∫°i ARN c·ªßa Role Sau khi t·∫°o, m·ªü chi ti·∫øt Role.\nCopy Role ARN (s·∫Ω c·∫ßn khi g√°n cho Lambda function sau n√†y). "
},
{
	"uri": "//localhost:1313/vi/6-setup-dns-route53-failover/6.4-route53-health-check-failover/",
	"title": "Route 53 Health check + Failover record (trong zone api.turtleclouds.id.vn)",
	"tags": [],
	"description": "",
	"content": "Route 53 Health check + Failover record B∆∞·ªõc cu·ªëi c√πng l√† t·∫°o Health Checks ƒë·ªÉ gi√°m s√°t t√¨nh tr·∫°ng API endpoints v√† c·∫•u h√¨nh Failover Records ƒë·ªÉ t·ª± ƒë·ªông chuy·ªÉn h∆∞·ªõng traffic khi Primary Region g·∫∑p s·ª± c·ªë.\nT·∫°i sao c·∫ßn Health Check v√† Failover? Automatic Monitoring: Route 53 li√™n t·ª•c ki·ªÉm tra t√¨nh tr·∫°ng API endpoints Instant Failover: T·ª± ƒë·ªông chuy·ªÉn sang Secondary Region khi Primary fail Zero Manual Intervention: Kh√¥ng c·∫ßn can thi·ªáp th·ªß c√¥ng High Availability: ƒê·∫£m b·∫£o 99.9% uptime cho API service N·ªôi dung T·∫°o Health Check cho Primary Region T·∫°o Health Check cho Secondary Region T·∫°o Failover Record cho Primary T·∫°o Failover Record cho Secondary Test Failover Scenario 1. T·∫°o Health Check cho Primary Region Truy c·∫≠p Route 53 ‚Üí Health checks Ch·ªçn Create health check C·∫•u h√¨nh Health Check Primary:\nName: Primary Singapore What to monitor: Endpoint Specify endpoint by: Domain name Protocol: HTTPS Domain name: dynw0bc977.execute-api.ap-southeast-1.amazonaws.com/prod/read (API ID c·ªßa Singapore) Request interval: Fast (10 seconds) Failure threshold: 3 Advanced configuration:\nEnable SNI: Yes Enable health checker regions: 3 region t·∫°i Asia Pacific: Asia Pacific (Tokyo) ‚úÖ\nAsia Pacific (Singapore) ‚úÖ\nAsia Pacific (Sydney) ‚úÖ\nQuan tr·ªçng: KH√îNG d√πng Regional domain c·ªßa custom domain (d-a7cx5xv22d.execute-api\u0026hellip;) cho Health Check v√¨ c√≥ th·ªÉ g√¢y l·ªói 403/401. S·ª≠ d·ª•ng invoke URL theo API ID thay th·∫ø.\n2. T·∫°o Health Check cho Secondary Region Ch·ªçn Create health check m·ªôt l·∫ßn n·ªØa C·∫•u h√¨nh Health Check Secondary:\nName: Secondary Tokyo What to monitor: Endpoint Specify endpoint by: Domain name Protocol: HTTPS Domain name: qp3nkjwlde.execute-api.ap-northeast-1.amazonaws.com/prod/read (API ID c·ªßa Tokyo) Request interval: Fast (10 seconds)\nFailure threshold: 3 Advanced configuration:\nEnable SNI: Yes Enable health checker regions: 3 region t·∫°i Asia Pacific: Asia Pacific (Tokyo) ‚úÖ\nAsia Pacific (Singapore) ‚úÖ\nAsia Pacific (Sydney) ‚úÖ\n3. T·∫°o Failover Record cho Primary Truy c·∫≠p Route 53 ‚Üí Hosted zones Ch·ªçn zone api.turtleclouds.id.vn Ch·ªçn Create record C·∫•u h√¨nh Primary Failover Record:\nRecord name: ƒë·ªÉ tr·ªëng (root c·ªßa api.turtleclouds.id.vn) Record type: A Alias: Yes Route traffic to: Alias to API Gateway API Choose Region: Asia Pacific (Singapore) Choose API Gateway: Ch·ªçn API Gateway Singapore t·ª´ dropdown Routing policy: Failover Failover record type: Primary Health check: Ch·ªçn Primary Singapore Record ID: primary-ap-southeast-1 4. T·∫°o Failover Record cho Secondary Ch·ªçn Create record m·ªôt l·∫ßn n·ªØa C·∫•u h√¨nh Secondary Failover Record:\nRecord name: ƒë·ªÉ tr·ªëng (root c·ªßa api.turtleclouds.id.vn) Record type: A Alias: Yes Route traffic to: Alias to API Gateway API Choose Region: Asia Pacific (Tokyo) Choose API Gateway: Ch·ªçn API Gateway Tokyo t·ª´ dropdown Routing policy: Failover Failover record type: Secondary Health check: Ch·ªçn Secondary Tokyo Record ID: secondary-ap-northeast-1 L∆∞u √Ω: N·∫øu menu \u0026ldquo;Alias to API Gateway\u0026rdquo; kh√¥ng hi·ªán, b·∫°n c√≥ th·ªÉ d√πng Record type CNAME tr·ªè th·∫≥ng t·ªõi Regional domain c·ªßa custom domain API Gateway.\nKi·ªÉm tra Health Check Status\nTruy c·∫≠p Route 53 ‚Üí Health checks Ki·ªÉm tra status c·ªßa c·∫£ hai health checks Status Success c√≥ nghƒ©a l√† endpoint ƒëang ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng K·∫øt qu·∫£ Sau khi ho√†n th√†nh b∆∞·ªõc n√†y:\n‚úÖ Health Checks ƒë√£ ƒë∆∞·ª£c t·∫°o cho c·∫£ hai Region ‚úÖ Failover Records ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh ‚úÖ DNS Failover ho·∫°t ƒë·ªông t·ª± ƒë·ªông ‚úÖ Custom Domain api.turtleclouds.id.vn ƒë√£ s·∫µn s√†ng ‚úÖ High Availability ƒë√£ ƒë∆∞·ª£c ƒë·∫£m b·∫£o "
},
{
	"uri": "//localhost:1313/vi/4-verify-new-account/",
	"title": "T·∫°o Lambda Functions ·ªü c·∫£ hai Region",
	"tags": [],
	"description": "",
	"content": "Gi·ªõi thi·ªáu v·ªÅ Amazon Lambda AWS Lambda l√† d·ªãch v·ª• serverless compute c·ªßa AWS. V·ªõi Lambda, b·∫°n c√≥ th·ªÉ ch·∫°y code m√† kh√¥ng c·∫ßn qu·∫£n l√Ω m√°y ch·ªß ‚Äì ch·ªâ c·∫ßn vi·∫øt code, upload, v√† AWS s·∫Ω t·ª± ƒë·ªông lo vi·ªác c·∫•p ph√°t t√†i nguy√™n, m·ªü r·ªông (scaling), v√† t√≠nh ph√≠ theo s·ªë l·∫ßn g·ªçi h√†m (invocations).\nM·ªôt s·ªë ƒë·∫∑c ƒëi·ªÉm ch√≠nh:\nKh√¥ng c·∫ßn qu·∫£n l√Ω h·∫° t·∫ßng ‚Üí AWS v·∫≠n h√†nh to√†n b·ªô ph·∫ßn backend.\nT·ª± ƒë·ªông m·ªü r·ªông ‚Üí Lambda c√≥ th·ªÉ x·ª≠ l√Ω t·ª´ v√†i request ƒë·∫øn h√†ng ngh√¨n request/gi√¢y.\nT√≠ch h·ª£p ch·∫∑t ch·∫Ω v·ªõi c√°c d·ªãch v·ª• AWS kh√°c (DynamoDB, S3, API Gateway, v.v.).\nCh·ª©c nƒÉng Lambda trong b∆∞·ªõc n√†y\nTrong b√†i lab n√†y, Lambda ƒë√≥ng vai tr√≤ l√† l·ªõp x·ª≠ l√Ω logic ·ª©ng d·ª•ng n·∫±m gi·ªØa API Gateway v√† DynamoDB:\nReadFunction: ƒë·ªçc to√†n b·ªô d·ªØ li·ªáu t·ª´ b·∫£ng DynamoDB v√† tr·∫£ k·∫øt qu·∫£ v·ªÅ d∆∞·ªõi d·∫°ng JSON.\nWriteFunction: nh·∫≠n d·ªØ li·ªáu t·ª´ request (qua API Gateway), sau ƒë√≥ ghi (put item) v√†o DynamoDB.\nTrong b∆∞·ªõc n√†y, ch√∫ng ta s·∫Ω t·∫°o c√°c Lambda Functions ƒë·ªÉ x·ª≠ l√Ω logic backend cho ·ª©ng d·ª•ng ·ªü c·∫£ hai Region (Primary v√† Secondary).\nN·ªôi dung M·ªü AWS Lambda Console T·∫°o h√†m Lambda ƒë·ªçc d·ªØ li·ªáu (ReadFunction) T·∫°o h√†m Lambda ghi d·ªØ li·ªáu (WriteFunction) Tri·ªÉn khai h√†m ·ªü Region ph·ª• (Secondary Region) 1. M·ªü AWS Lambda Console ƒêƒÉng nh·∫≠p v√†o AWS Management Console.\nT√¨m v√† ch·ªçn d·ªãch v·ª• Lambda.\n2. T·∫°o h√†m Lambda ƒë·ªçc d·ªØ li·ªáu (ReadFunction) Ch·ªçn Create function.\nNh·∫≠p c·∫•u h√¨nh:\nFunction name: ReadFunction\nRuntime: Python 3.9\nExecution role: Ch·ªçn Use an existing role v√† ch·ªçn LambdaDynamoDBRole (ƒë√£ t·∫°o ·ªü b∆∞·ªõc tr∆∞·ªõc).\nExecution role: Ch·ªçn Use an existing role v√† ch·ªçn LambdaDynamoDBRole (ƒë√£ t·∫°o ·ªü b∆∞·ªõc tr∆∞·ªõc).\nCopy code sau v√† d√°n v√†o lambda_function.py.\nimport json import boto3 from boto3.dynamodb.conditions import Key from decimal import Decimal # Initialize DynamoDB resource dynamodb = boto3.resource(\u0026#39;dynamodb\u0026#39;) table = dynamodb.Table(\u0026#39;HighAvailabilityTable\u0026#39;) # Helper function to convert Decimal to regular types for JSON serialization def decimal_default(obj): if isinstance(obj, Decimal): return float(obj) raise TypeError def lambda_handler(event, context): # Handle preflight OPTIONS request for CORS if event.get(\u0026#39;httpMethod\u0026#39;) == \u0026#39;OPTIONS\u0026#39;: return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;headers\u0026#39;: { \u0026#39;Access-Control-Allow-Origin\u0026#39;: \u0026#39;*\u0026#39;, \u0026#39;Access-Control-Allow-Methods\u0026#39;: \u0026#39;GET, POST, OPTIONS\u0026#39;, \u0026#39;Access-Control-Allow-Headers\u0026#39;: \u0026#39;Content-Type, Authorization\u0026#39;, \u0026#39;Access-Control-Max-Age\u0026#39;: \u0026#39;86400\u0026#39; }, \u0026#39;body\u0026#39;: \u0026#39;\u0026#39; } try: # Scan the table to get all items response = table.scan() items = response[\u0026#39;Items\u0026#39;] # Handle pagination if there are more items while \u0026#39;LastEvaluatedKey\u0026#39; in response: response = table.scan(ExclusiveStartKey=response[\u0026#39;LastEvaluatedKey\u0026#39;]) items.extend(response[\u0026#39;Items\u0026#39;]) # Sort items by ItemId for consistent ordering items.sort(key=lambda x: str(x.get(\u0026#39;ItemId\u0026#39;, \u0026#39;\u0026#39;))) return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;headers\u0026#39;: { \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;, \u0026#39;Access-Control-Allow-Origin\u0026#39;: \u0026#39;*\u0026#39;, \u0026#39;Access-Control-Allow-Methods\u0026#39;: \u0026#39;GET, POST, OPTIONS\u0026#39;, \u0026#39;Access-Control-Allow-Headers\u0026#39;: \u0026#39;Content-Type, Authorization\u0026#39;, \u0026#39;Cache-Control\u0026#39;: \u0026#39;no-cache, no-store, must-revalidate\u0026#39;, \u0026#39;Pragma\u0026#39;: \u0026#39;no-cache\u0026#39;, \u0026#39;Expires\u0026#39;: \u0026#39;0\u0026#39; }, \u0026#39;body\u0026#39;: json.dumps(items, default=decimal_default, ensure_ascii=False) } except Exception as e: print(f\u0026#34;Error reading data: {str(e)}\u0026#34;) # Log error for debugging return { \u0026#39;statusCode\u0026#39;: 500, \u0026#39;headers\u0026#39;: { \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;, \u0026#39;Access-Control-Allow-Origin\u0026#39;: \u0026#39;*\u0026#39;, \u0026#39;Access-Control-Allow-Methods\u0026#39;: \u0026#39;GET, POST, OPTIONS\u0026#39;, \u0026#39;Access-Control-Allow-Headers\u0026#39;: \u0026#39;Content-Type, Authorization\u0026#39; }, \u0026#39;body\u0026#39;: json.dumps({ \u0026#39;error\u0026#39;: \u0026#39;Internal server error\u0026#39;, \u0026#39;message\u0026#39;: \u0026#39;Unable to read data from database\u0026#39; }, ensure_ascii=False) } Nh·∫•n Deploy ƒë·ªÉ l∆∞u code. B·∫°n ƒë√£ t·∫°o h√†m Lambda ƒë·ªçc d·ªØ li·ªáu (ReadFunction) th√†nh c√¥ng! 3. T·∫°o h√†m Lambda ghi d·ªØ li·ªáu (WriteFunction) Ch·ªçn Create function l·∫ßn n·ªØa.\nNh·∫≠p c·∫•u h√¨nh:\nFunction name: WriteFunction\nRuntime: Python 3.9\nExecution role: ch·ªçn l·∫°i LambdaDynamoDBRole\nExecution role: Ch·ªçn Use an existing role v√† ch·ªçn LambdaDynamoDBRole Copy code sau v√† d√°n v√†o lambda_function.py.\nimport json import boto3 from datetime import datetime import uuid # Initialize DynamoDB resource dynamodb = boto3.resource(\u0026#39;dynamodb\u0026#39;) table = dynamodb.Table(\u0026#39;HighAvailabilityTable\u0026#39;) def lambda_handler(event, context): # Handle preflight OPTIONS request for CORS if event.get(\u0026#39;httpMethod\u0026#39;) == \u0026#39;OPTIONS\u0026#39;: return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;headers\u0026#39;: { \u0026#39;Access-Control-Allow-Origin\u0026#39;: \u0026#39;*\u0026#39;, \u0026#39;Access-Control-Allow-Methods\u0026#39;: \u0026#39;GET, POST, OPTIONS\u0026#39;, \u0026#39;Access-Control-Allow-Headers\u0026#39;: \u0026#39;Content-Type, Authorization\u0026#39;, \u0026#39;Access-Control-Max-Age\u0026#39;: \u0026#39;86400\u0026#39; }, \u0026#39;body\u0026#39;: \u0026#39;\u0026#39; } try: # Parse request body if not event.get(\u0026#39;body\u0026#39;): raise ValueError(\u0026#39;Request body is required\u0026#39;) body = json.loads(event[\u0026#39;body\u0026#39;]) # Check if this is a DELETE action if body.get(\u0026#39;Action\u0026#39;) == \u0026#39;DELETE\u0026#39;: # Handle DELETE operation if \u0026#39;ItemId\u0026#39; not in body: raise ValueError(\u0026#39;ItemId is required for delete operation\u0026#39;) item_id = str(body[\u0026#39;ItemId\u0026#39;]).strip() if not item_id: raise ValueError(\u0026#39;ItemId cannot be empty\u0026#39;) # Check if item exists before deleting try: response = table.get_item(Key={\u0026#39;ItemId\u0026#39;: item_id}) if \u0026#39;Item\u0026#39; not in response: raise ValueError(f\u0026#39;Item with ID \u0026#34;{item_id}\u0026#34; not found\u0026#39;) except Exception as e: if \u0026#39;not found\u0026#39; in str(e): raise e else: print(f\u0026#34;Error checking item existence: {str(e)}\u0026#34;) # Delete from DynamoDB table.delete_item(Key={\u0026#39;ItemId\u0026#39;: item_id}) print(f\u0026#34;Successfully deleted item: {item_id}\u0026#34;) # Log for debugging return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;headers\u0026#39;: { \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;, \u0026#39;Access-Control-Allow-Origin\u0026#39;: \u0026#39;*\u0026#39;, \u0026#39;Access-Control-Allow-Methods\u0026#39;: \u0026#39;GET, POST, OPTIONS\u0026#39;, \u0026#39;Access-Control-Allow-Headers\u0026#39;: \u0026#39;Content-Type, Authorization\u0026#39; }, \u0026#39;body\u0026#39;: json.dumps({ \u0026#39;message\u0026#39;: f\u0026#39;ƒê√£ x√≥a th√†nh c√¥ng item \u0026#34;{item_id}\u0026#34;!\u0026#39;, \u0026#39;itemId\u0026#39;: item_id, \u0026#39;action\u0026#39;: \u0026#39;DELETE\u0026#39;, \u0026#39;timestamp\u0026#39;: datetime.utcnow().isoformat() + \u0026#39;Z\u0026#39; }, ensure_ascii=False) } else: # Handle CREATE/UPDATE operation # Validate required fields if \u0026#39;ItemId\u0026#39; not in body or \u0026#39;Data\u0026#39; not in body: raise ValueError(\u0026#39;ItemId and Data are required fields\u0026#39;) item_id = str(body[\u0026#39;ItemId\u0026#39;]).strip() data = str(body[\u0026#39;Data\u0026#39;]).strip() # Validate input data if not item_id or not data: raise ValueError(\u0026#39;ItemId and Data cannot be empty\u0026#39;) if len(item_id) \u0026gt; 100: raise ValueError(\u0026#39;ItemId cannot exceed 100 characters\u0026#39;) if len(data) \u0026gt; 1000: raise ValueError(\u0026#39;Data cannot exceed 1000 characters\u0026#39;) # Add timestamp and unique identifier for better tracking timestamp = datetime.utcnow().isoformat() + \u0026#39;Z\u0026#39; # Prepare item for DynamoDB item = { \u0026#39;ItemId\u0026#39;: item_id, \u0026#39;Data\u0026#39;: data, \u0026#39;CreatedAt\u0026#39;: timestamp, \u0026#39;UpdatedAt\u0026#39;: timestamp } # Save to DynamoDB table.put_item(Item=item) print(f\u0026#34;Successfully saved item: {item_id}\u0026#34;) # Log for debugging return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;headers\u0026#39;: { \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;, \u0026#39;Access-Control-Allow-Origin\u0026#39;: \u0026#39;*\u0026#39;, \u0026#39;Access-Control-Allow-Methods\u0026#39;: \u0026#39;GET, POST, OPTIONS\u0026#39;, \u0026#39;Access-Control-Allow-Headers\u0026#39;: \u0026#39;Content-Type, Authorization\u0026#39; }, \u0026#39;body\u0026#39;: json.dumps({ \u0026#39;message\u0026#39;: \u0026#39;D·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c l∆∞u th√†nh c√¥ng!\u0026#39;, \u0026#39;itemId\u0026#39;: item_id, \u0026#39;timestamp\u0026#39;: timestamp }, ensure_ascii=False) } except json.JSONDecodeError: print(\u0026#34;Error: Invalid JSON in request body\u0026#34;) return { \u0026#39;statusCode\u0026#39;: 400, \u0026#39;headers\u0026#39;: { \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;, \u0026#39;Access-Control-Allow-Origin\u0026#39;: \u0026#39;*\u0026#39;, \u0026#39;Access-Control-Allow-Methods\u0026#39;: \u0026#39;GET, POST, OPTIONS\u0026#39;, \u0026#39;Access-Control-Allow-Headers\u0026#39;: \u0026#39;Content-Type, Authorization\u0026#39; }, \u0026#39;body\u0026#39;: json.dumps({ \u0026#39;error\u0026#39;: \u0026#39;Invalid JSON format\u0026#39;, \u0026#39;message\u0026#39;: \u0026#39;Request body must be valid JSON\u0026#39; }, ensure_ascii=False) } except ValueError as ve: print(f\u0026#34;Validation error: {str(ve)}\u0026#34;) return { \u0026#39;statusCode\u0026#39;: 400, \u0026#39;headers\u0026#39;: { \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;, \u0026#39;Access-Control-Allow-Origin\u0026#39;: \u0026#39;*\u0026#39;, \u0026#39;Access-Control-Allow-Methods\u0026#39;: \u0026#39;GET, POST, OPTIONS\u0026#39;, \u0026#39;Access-Control-Allow-Headers\u0026#39;: \u0026#39;Content-Type, Authorization\u0026#39; }, \u0026#39;body\u0026#39;: json.dumps({ \u0026#39;error\u0026#39;: \u0026#39;Validation error\u0026#39;, \u0026#39;message\u0026#39;: str(ve) }, ensure_ascii=False) } except Exception as e: print(f\u0026#34;Unexpected error: {str(e)}\u0026#34;) # Log error for debugging return { \u0026#39;statusCode\u0026#39;: 500, \u0026#39;headers\u0026#39;: { \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;, \u0026#39;Access-Control-Allow-Origin\u0026#39;: \u0026#39;*\u0026#39;, \u0026#39;Access-Control-Allow-Methods\u0026#39;: \u0026#39;GET, POST, OPTIONS\u0026#39;, \u0026#39;Access-Control-Allow-Headers\u0026#39;: \u0026#39;Content-Type, Authorization\u0026#39; }, \u0026#39;body\u0026#39;: json.dumps({ \u0026#39;error\u0026#39;: \u0026#39;Internal server error\u0026#39;, \u0026#39;message\u0026#39;: \u0026#39;Kh√¥ng th·ªÉ l∆∞u d·ªØ li·ªáu. Vui l√≤ng th·ª≠ l·∫°i sau.\u0026#39; }, ensure_ascii=False) } Nh·∫•n Deploy ƒë·ªÉ l∆∞u code. B·∫°n ƒë√£ t·∫°o th√†nh c√¥ng 2 Lambda functions t√™n l√† ReadFunction v√† WriteFunction trong Region Asia Pacific (Singapore) v·ªõi runtime l√† Python 3.9. 4. Tri·ªÉn khai h√†m ·ªü Region ph·ª• (Secondary Region) Tri·ªÉn khai h√†m ·ªü Region ph·ª• (Secondary Region)\nChuy·ªÉn sang Region d·ª± ph√≤ng (v√≠ d·ª•: ap-northeast-1).\nL·∫∑p l·∫°i b∆∞·ªõc 2 v√† b∆∞·ªõc 3 ƒë·ªÉ t·∫°o c√πng 2 h√†m (ReadFunctionv√† WriteFunction) t·∫°i Region n√†y.\nB·∫°n ƒë√£ t·∫°o th√†nh c√¥ng 2 Lambda functions t√™n l√† ReadFunction v√† WriteFunction trong Region Asia Pacific (Tokyo) v·ªõi runtime l√† Python 3.9. "
},
{
	"uri": "//localhost:1313/vi/5-setup-api-gateway/",
	"title": "Thi·∫øt l·∫≠p API Gateway ·ªü c·∫£ hai Region",
	"tags": [],
	"description": "",
	"content": "Gi·ªõi thi·ªáu v·ªÅ Amazon API Gateway Amazon API Gateway l√† d·ªãch v·ª• ƒë∆∞·ª£c qu·∫£n l√Ω ho√†n to√†n gi√∫p c√°c nh√† ph√°t tri·ªÉn d·ªÖ d√†ng t·∫°o, xu·∫•t b·∫£n, duy tr√¨, gi√°m s√°t v√† b·∫£o m·∫≠t API ·ªü m·ªçi quy m√¥. API Gateway ho·∫°t ƒë·ªông nh∆∞ \u0026ldquo;c·ª≠a ng√µ\u0026rdquo; cho c√°c ·ª©ng d·ª•ng truy c·∫≠p d·ªØ li·ªáu, logic nghi·ªáp v·ª• ho·∫∑c ch·ª©c nƒÉng t·ª´ c√°c d·ªãch v·ª• backend nh∆∞ AWS Lambda, Amazon EC2, ho·∫∑c b·∫•t k·ª≥ d·ªãch v·ª• web n√†o.\nTrong b√†i lab n√†y, API Gateway ƒë√≥ng vai tr√≤ quan tr·ªçng trong ki·∫øn tr√∫c Serverless Failover:\nCung c·∫•p REST API endpoints: T·∫°o c√°c endpoint th·ªëng nh·∫•t cho ·ª©ng d·ª•ng frontend g·ªçi ƒë·∫øn K·∫øt n·ªëi v·ªõi Lambda Functions: T√≠ch h·ª£p v·ªõi ReadFunction v√† WriteFunction ƒë√£ t·∫°o tr∆∞·ªõc ƒë√≥ H·ªó tr·ª£ CORS: Cho ph√©p frontend t·ª´ domain kh√°c truy c·∫≠p API Logging v√† Monitoring: Theo d√µi performance v√† debug issues Throttling: Ki·ªÉm so√°t s·ªë l∆∞·ª£ng request ƒë·ªÉ b·∫£o v·ªá backend L·ª£i √≠ch c·ªßa API Gateway trong DR Strategy Multi-Region Deployment: Tri·ªÉn khai ·ªü c·∫£ Primary v√† Secondary Region Health Check Integration: T√≠ch h·ª£p v·ªõi Route 53 ƒë·ªÉ ki·ªÉm tra t√¨nh tr·∫°ng endpoint Custom Domain: S·ª≠ d·ª•ng domain ri√™ng thay v√¨ URL m·∫∑c ƒë·ªãnh c·ªßa AWS SSL/TLS: T·ª± ƒë·ªông h·ªó tr·ª£ HTTPS th√¥ng qua AWS Certificate Manager N·ªôi dung T·∫°o API Gateway ·ªü Region ch√≠nh (Primary) Nh√¢n b·∫£n API Gateway sang Region ph·ª• (Secondary) "
},
{
	"uri": "//localhost:1313/vi/6-setup-dns-route53-failover/",
	"title": "Thi·∫øt l·∫≠p DNS Route 53 v√† c·∫•u h√¨nh Failover cho API Gateway",
	"tags": [],
	"description": "",
	"content": "Thi·∫øt l·∫≠p DNS Route 53 v√† c·∫•u h√¨nh Failover cho API Gateway Trong b∆∞·ªõc n√†y, ch√∫ng ta s·∫Ω c·∫•u h√¨nh DNS failover t·ª± ƒë·ªông s·ª≠ d·ª•ng Amazon Route 53 ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh s·∫µn s√†ng cao cho API Gateway. Khi Primary Region g·∫∑p s·ª± c·ªë, Route 53 s·∫Ω t·ª± ƒë·ªông chuy·ªÉn h∆∞·ªõng traffic sang Secondary Region.\nT·∫°i sao c·∫ßn DNS Failover? Automatic Failover: T·ª± ƒë·ªông chuy·ªÉn h∆∞·ªõng traffic khi Primary Region g·∫∑p s·ª± c·ªë Health Monitoring: Li√™n t·ª•c gi√°m s√°t t√¨nh tr·∫°ng API endpoints Zero Manual Intervention: Kh√¥ng c·∫ßn can thi·ªáp th·ªß c√¥ng khi failover x·∫£y ra Custom Domain: S·ª≠ d·ª•ng domain ri√™ng thay v√¨ URL AWS m·∫∑c ƒë·ªãnh SSL/TLS Security: ƒê·∫£m b·∫£o HTTPS cho t·∫•t c·∫£ requests Ki·∫øn tr√∫c DNS Failover Route 53 Hosted Zone: Qu·∫£n l√Ω DNS cho subdomain api.turtleclouds.id.vn ACM Certificates: SSL certificates cho c·∫£ hai Region Custom Domains: API Gateway custom domains v·ªõi SSL Health Checks: Gi√°m s√°t t√¨nh tr·∫°ng API endpoints Failover Records: Primary/Secondary routing policy N·ªôi dung Quy·∫øt ƒë·ªãnh DNS cho api.turtleclouds.id.vn L√†m ACM DNS validation cho c·∫£ 2 region T·∫°o Custom domain cho API Gateway (m·ªói region m·ªôt c√°i) Route 53 Health check + Failover record L∆∞u √Ω quan tr·ªçng Y√™u c·∫ßu tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu:\nƒê√£ c√≥ domain turtleclouds.id.vn ƒë∆∞·ª£c qu·∫£n l√Ω b·ªüi Cloudflare API Gateway ƒë√£ ƒë∆∞·ª£c t·∫°o ·ªü c·∫£ hai Region (Singapore v√† Tokyo) Lambda Functions ƒë√£ ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng DynamoDB Global Tables ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh Quy tr√¨nh th·ª±c hi·ªán B∆∞·ªõc 6.1: T·∫°o Route 53 Hosted Zone cho subdomain api.turtleclouds.id.vn B∆∞·ªõc 6.2: Request SSL certificates t·ª´ ACM cho c·∫£ hai Region B∆∞·ªõc 6.3: T·∫°o Custom Domain Names cho API Gateway B∆∞·ªõc 6.4: C·∫•u h√¨nh Health Checks v√† Failover Records K·∫øt qu·∫£ mong ƒë·ª£i Sau khi ho√†n th√†nh, b·∫°n s·∫Ω c√≥:\n‚úÖ Custom Domain: api.turtleclouds.id.vn tr·ªè ƒë·∫øn API Gateway ‚úÖ SSL/TLS: HTTPS ƒë∆∞·ª£c k√≠ch ho·∫°t cho t·∫•t c·∫£ requests ‚úÖ Health Monitoring: Route 53 li√™n t·ª•c ki·ªÉm tra t√¨nh tr·∫°ng API ‚úÖ Automatic Failover: T·ª± ƒë·ªông chuy·ªÉn sang Secondary Region khi c·∫ßn ‚úÖ Zero Downtime: Ng∆∞·ªùi d√πng kh√¥ng b·ªã gi√°n ƒëo·∫°n d·ªãch v·ª• "
},
{
	"uri": "//localhost:1313/vi/7-create-frontend-website/",
	"title": "Create the Frontend Website",
	"tags": [],
	"description": "",
	"content": "B∆∞·ªõc 7: Create the Frontend Website Trong b∆∞·ªõc n√†y, b·∫°n s·∫Ω tri·ªÉn khai frontend website tƒ©nh ƒë·ªÉ giao ti·∫øp v·ªõi API. Website s·ª≠ d·ª•ng HTML, Bootstrap ƒë·ªÉ t·∫°o giao di·ªán, v√† JavaScript ƒë·ªÉ g·ªçi API th√¥ng qua Route 53 DNS name.\nT·∫°i sao c·∫ßn Frontend Website? User Interface: Cung c·∫•p giao di·ªán th√¢n thi·ªán ƒë·ªÉ test API Real-world Testing: Ki·ªÉm tra failover t·ª´ g√≥c ƒë·ªô ng∆∞·ªùi d√πng cu·ªëi Complete Solution: Ho√†n thi·ªán ki·∫øn tr√∫c full-stack v·ªõi frontend + backend Demonstration: Minh h·ªça c√°ch t√≠ch h·ª£p v·ªõi API Gateway th√¥ng qua custom domain N·ªôi dung T·∫£i source code t·ª´ GitHub T·∫°o S3 Bucket Ch·ªânh s·ª≠a c·∫•u h√¨nh API Upload file l√™n S3 Enable Static Website Hosting Configuring Public Access Block Configuring Public Objects (Object ACLs) Ki·ªÉm tra Website 1. T·∫£i source code t·ª´ GitHub Clone ho·∫∑c t·∫£i tr·ª±c ti·∫øp repository: üëâ Front-end-Workshop-Failover: https://github.com/quywork62/Front-end-Workshop-Failover-\nN·∫øu d√πng git:\ngit clone https://github.com/quywork62/Front-end-Workshop-Failover-.git Ho·∫∑c t·∫£i file ZIP v√† gi·∫£i n√©n.\n2. T·∫°o S3 Bucket Truy c·∫≠p Amazon S3 ‚Üí Create bucket ƒê·∫∑t t√™n bucket: api.turtleclouds.id.vn (T√™n bucket ph·∫£i tr√πng ch√≠nh x√°c domain b·∫°n s·∫Ω s·ª≠ d·ª•ng ƒë·ªÉ host website) Region: ch·ªçn ap-southeast-1 (Singapore) Gi·ªØ nguy√™n c√°c t√πy ch·ªçn m·∫∑c ƒë·ªãnh kh√°c ‚Üí Ch·ªçn Create bucket 3. Ch·ªânh s·ª≠a c·∫•u h√¨nh API Trong source code, t√¨m file JavaScript ch√≠nh (v√≠ d·ª• trong index.html) v√† ch·ªânh s·ª≠a:\nconst apiUrl = \u0026#39;https://api.\u0026lt;YOUR-DOMAIN\u0026gt;\u0026#39;; // Use Route 53 DNS name ---\u0026gt; const apiUrl = \u0026#39;https://api.turtleclouds.id.vn/prod\u0026#39;; // S·ª≠ d·ª•ng Route 53 DNS name tr·ªè ƒë·∫øn API Gateway L∆∞u √Ω: ƒê·∫£m b·∫£o URL API tr·ªè ƒë·∫øn domain ƒë√£ c·∫•u h√¨nh trong Route 53, kh√¥ng ph·∫£i regional domain names c·ªßa API Gateway.\n4. Upload file l√™n S3 V√†o bucket api.turtleclouds.id.vn ‚Üí Upload Ch·ªçn to√†n b·ªô file code (HTML, CSS, JS, images) t·ª´ th∆∞ m·ª•c d·ª± √°n Nh·∫•n Upload 5. Enable Static Website Hosting V√†o bucket ‚Üí Tab Properties Cu·ªôn xu·ªëng ph·∫ßn Static website hosting ‚Üí Ch·ªçn Edit C·∫•u h√¨nh: Static website hosting: Enable Hosting type: Host a static website Index document: index.html Nh·∫•n Save changes üëâ Sau khi b·∫≠t, b·∫°n s·∫Ω th·∫•y endpoint website do S3 cung c·∫•p:\nhttp://api.turtleclouds.id.vn.s3-website-ap-southeast-1.amazonaws.com 6. Configuring Public Access Block M·∫∑c ƒë·ªãnh, S3 ch·∫∑n public access. C·∫ßn t·∫Øt ƒë·ªÉ cho ph√©p truy c·∫≠p website:\nV√†o bucket ‚Üí Tab Permissions Ph·∫ßn Block public access (bucket settings) ‚Üí Ch·ªçn Edit B·ªè ch·ªçn \u0026ldquo;Block all public access\u0026rdquo; Ch·ªçn Save changes ‚Üí X√°c nh·∫≠n Confirm C·∫£nh b√°o: Ch·ªâ t·∫Øt public access block cho bucket ch·ª©a static website. Kh√¥ng √°p d·ª•ng cho c√°c bucket ch·ª©a d·ªØ li·ªáu nh·∫°y c·∫£m.\n7. Configuring Public Objects (Object ACLs) a. B·∫≠t ACLs trong Object Ownership\nV√†o bucket ‚Üí Tab Permissions Ph·∫ßn Access controls list(ACLs) ‚Üí bucket owner enforced Ch·ªçn:\nACLs enabled Bucket owner preferred Tick ch·ªçn \u0026ldquo;I acknowledge\u0026hellip;\u0026rdquo; Nh·∫•n Save changes üëâ Sau ƒë√≥ b·∫°n s·∫Ω th·∫•y tr·∫°ng th√°i: Object Ownership = Bucket owner preferred (ACLs enabled)\nb. Public c√°c file frontend\nV√†o tab Objects ‚Üí Ch·ªçn to√†n b·ªô file website (HTML, CSS, JS, images) Nh·∫•n Actions ‚Üí Make public using ACL X√°c nh·∫≠n b·∫±ng Make public üëâ Gi·ªù ƒë√¢y, c√°c file tƒ©nh ƒë√£ c√¥ng khai v√† c√≥ th·ªÉ t·∫£i tr·ª±c ti·∫øp qua URL.\n8. Ki·ªÉm tra Website Test Static Website Endpoint:\nhttp://api.turtleclouds.id.vn.s3-website-ap-southeast-1.amazonaws.com Test Direct S3 URL:\nhttps://s3.ap-southeast-1.amazonaws.com/api.turtleclouds.id.vn/index.html K·∫øt qu·∫£ Sau khi ho√†n th√†nh b∆∞·ªõc n√†y:\n‚úÖ S3 Bucket ƒë√£ ƒë∆∞·ª£c t·∫°o v√† c·∫•u h√¨nh ‚úÖ Static Website Hosting ƒë√£ ƒë∆∞·ª£c k√≠ch ho·∫°t ‚úÖ Frontend Code ƒë√£ ƒë∆∞·ª£c upload v√† public ‚úÖ Website c√≥ th·ªÉ truy c·∫≠p qua S3 endpoint ‚úÖ API Integration ho·∫°t ƒë·ªông v·ªõi Route 53 domain Troubleshooting N·∫øu website kh√¥ng load:\nKi·ªÉm tra Block public access ƒë√£ t·∫Øt Verify Object ACLs ƒë√£ ƒë∆∞·ª£c set public ƒê·∫£m b·∫£o index.html t·ªìn t·∫°i trong bucket root N·∫øu API calls fail:\nKi·ªÉm tra CORS configuration tr√™n API Gateway Verify Route 53 records ƒë√£ propagate Test API endpoint tr·ª±c ti·∫øp b·∫±ng curl Chu·∫©n b·ªã cho b∆∞·ªõc ti·∫øp theo Website frontend gi·ªù ƒë√£ s·∫µn s√†ng ƒë·ªÉ test to√†n b·ªô ki·∫øn tr√∫c high availability. B·∫°n c√≥ th·ªÉ test failover scenarios v√† monitor health checks t·ª´ giao di·ªán ng∆∞·ªùi d√πng.\n"
},
{
	"uri": "//localhost:1313/vi/8-test-failover-delete-primary-api/",
	"title": "Ki·ªÉm th·ª≠ c∆° ch·∫ø chuy·ªÉn ƒë·ªïi d·ª± ph√≤ng b·∫±ng c√°ch x√≥a API ·ªü primary (Singapore)",
	"tags": [],
	"description": "",
	"content": "Trong b∆∞·ªõc n√†y, ta s·∫Ω x√≥a h·∫≥n API ·ªü region Singapore (ap-southeast-1) ƒë·ªÉ ki·ªÉm ch·ª©ng c∆° ch·∫ø Failover sang region Secondary (Tokyo).\n‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng: Vi·ªác n√†y kh√¥ng th·ªÉ ho√†n nguy√™n n·∫øu b·∫°n ch∆∞a export API. V√¨ v·∫≠y n√™n export tr∆∞·ªõc khi x√≥a ƒë·ªÉ c√≥ th·ªÉ kh√¥i ph·ª•c sau.\nT·∫°i sao c·∫ßn Test Failover? Validate Architecture: X√°c minh c∆° ch·∫ø failover ho·∫°t ƒë·ªông ƒë√∫ng Real-world Simulation: M√¥ ph·ªèng t√¨nh hu·ªëng th·ª±c t·∫ø khi Primary Region g·∫∑p s·ª± c·ªë Business Continuity: ƒê·∫£m b·∫£o d·ªãch v·ª• kh√¥ng b·ªã gi√°n ƒëo·∫°n Confidence Building: T·∫°o ni·ªÅm tin v√†o h·ªá th·ªëng High Availability N·ªôi dung (T√πy ch·ªçn) Export API X√≥a Domain Mapping (n·∫øu c√≥) X√≥a API tr√™n Console Ki·ªÉm tra Health Check (Route 53) X√°c minh Failover 1. (T√πy ch·ªçn) Export API ƒêi·ªÅu h∆∞·ªõng ƒë·∫øn API Gateway ‚Üí APIs ‚Üí ch·ªçn HighAvailabilityAPI V√†o Stages ‚Üí ch·ªçn prod Ch·ªçn Export ƒë·ªÉ t·∫£i file Swagger/OpenAPI definition üëâ L∆∞u file n√†y ƒë·ªÉ kh√¥i ph·ª•c ho·∫∑c redeploy l·∫°i API n·∫øu c·∫ßn.\n2. X√≥a Domain Mapping (n·∫øu c√≥) M·ªôt s·ªë t√†i kho·∫£n AWS y√™u c·∫ßu g·ª° domain mapping tr∆∞·ªõc khi x√≥a API.\nThao t√°c:\nV√†o Custom domain names ‚Üí ch·ªçn domain Ch·ªçn Delete API mapping 3. X√≥a API tr√™n Console Quay l·∫°i APIs ‚Üí ch·ªçn HighAvailabilityAPI Ch·ªçn Actions ‚Üí Delete G√µ delete ƒë·ªÉ x√°c nh·∫≠n Ho·∫∑c qua AWS CLI:\nL·∫•y danh s√°ch API ·ªü Singapore:\naws apigateway get-rest-apis --region ap-southeast-1 X√≥a API:\naws apigateway delete-rest-api \\ --rest-api-id \u0026lt;API_ID\u0026gt; \\ --region ap-southeast-1 4. Ki·ªÉm tra Health Check (Route 53) Sau khi API Singapore b·ªã x√≥a, health check c·ªßa Primary s·∫Ω b√°o Unhealthy (HTTP 404/403).\nRoute 53 s·∫Ω t·ª± ƒë·ªông failover to√†n b·ªô traffic sang Secondary (Tokyo ‚Äì ap-northeast-1).\nTruy c·∫≠p Route 53 ‚Üí Health checks Ki·ªÉm tra status c·ªßa Primary Singapore health check Status s·∫Ω chuy·ªÉn t·ª´ Success ‚Üí Failure Ki·ªÉm tra Frontend Website:\nTrong l√∫c ch·ªù health check ph√°t hi·ªán l·ªói, b·∫°n c√≥ th·ªÉ test frontend website ƒë·ªÉ th·∫•y s·ª± thay ƒë·ªïi:\nTruy c·∫≠p frontend website: http://api.turtleclouds.id.vn.s3-website-ap-southeast-1.amazonaws.com Th·ª≠ c√°c ch·ª©c nƒÉng CRUD Ban ƒë·∫ßu c√≥ th·ªÉ g·∫∑p l·ªói khi API Singapore v·ª´a b·ªã x√≥a Sau 2-3 ph√∫t, website s·∫Ω ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng tr·ªü l·∫°i khi traffic ƒë∆∞·ª£c chuy·ªÉn sang Tokyo L∆∞u √Ω: Health check c√≥ th·ªÉ m·∫•t 2-3 ph√∫t ƒë·ªÉ ph√°t hi·ªán l·ªói v√† trigger failover.\n5. X√°c minh Failover C√°ch 1: Test tr·ª±c ti·∫øp trong Route 53\nV√†o Route 53 Console ‚Üí Hosted zones ‚Üí ch·ªçn domain api.turtleclouds.id.vn Nh·∫•n Test record Nh·∫≠p:\nRecord name: api.turtleclouds.id.vn Record type: A Nh·∫•n Test üëâ N·∫øu failover th√†nh c√¥ng, record s·∫Ω resolve sang IP ·ªü Tokyo (ap-northeast-1) thay v√¨ Singapore.\nC√°ch 2: X√°c minh IP th·ª±c t·∫ø\nKi·ªÉm tra DNS/IP t·ª´ terminal:\ndig api.turtleclouds.id.vn Ho·∫∑c tr√™n Windows PowerShell:\nResolve-DnsName api.turtleclouds.id.vn üëâ K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã danh s√°ch IP (v√≠ d·ª•: 35.74.x.x, 52.199.x.x, 52.193.x.x) ‚Äî t·∫•t c·∫£ thu·ªôc Tokyo region.\nC√°ch 3: Reverse DNS ƒë·ªÉ x√°c ƒë·ªãnh Region\nTr√™n Linux/Mac:\nhost \u0026lt;IP\u0026gt; Tr√™n Windows PowerShell:\nResolve-DnsName \u0026lt;IP\u0026gt; -Type PTR üëâ N·∫øu k·∫øt qu·∫£ hi·ªÉn th·ªã ap-northeast-1 (Tokyo) ‚Üí ch·ª©ng t·ªè failover th√†nh c√¥ng. üéâ\nK·∫øt qu·∫£ mong ƒë·ª£i ‚úÖ API ·ªü Singapore ƒë√£ b·ªã x√≥a\n‚úÖ Health check chuy·ªÉn sang Unhealthy\n‚úÖ Route 53 failover sang Tokyo (ap-northeast-1)\n‚úÖ Truy c·∫≠p domain api.turtleclouds.id.vn s·∫Ω tr·∫£ v·ªÅ response t·ª´ API Tokyo\nMonitoring v√† Verification CloudWatch Metrics:\nRoute 53 Health Check status changes API Gateway request metrics (should show 0 for Singapore, increased for Tokyo) Lambda invocation metrics shift to Tokyo region Timeline Expectations:\n0-2 minutes: API deletion completed 2-5 minutes: Health check detects failure 5-7 minutes: DNS failover propagation 7+ minutes: All traffic routed to Tokyo Troubleshooting N·∫øu failover kh√¥ng ho·∫°t ƒë·ªông:\nKi·ªÉm tra Health Check configuration Verify Failover records setup ƒë√∫ng Check DNS TTL settings Ensure Tokyo API v√† Lambda functions ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng N·∫øu mu·ªën kh√¥i ph·ª•c Singapore API:\nImport l·∫°i API t·ª´ exported file Redeploy Lambda functions Recreate Custom Domain mapping Wait for Health Check to recover K·∫øt lu·∫≠n B·∫°n ƒë√£ th√†nh c√¥ng ki·ªÉm ch·ª©ng c∆° ch·∫ø Serverless Failover ho·∫°t ƒë·ªông t·ª± ƒë·ªông v√† hi·ªáu qu·∫£. H·ªá th·ªëng c√≥ kh·∫£ nƒÉng:\nT·ª± ƒë·ªông ph√°t hi·ªán l·ªói th√¥ng qua Route 53 Health Checks Chuy·ªÉn ƒë·ªïi traffic sang Region d·ª± ph√≤ng trong v√≤ng 5-7 ph√∫t Duy tr√¨ t√≠nh li√™n t·ª•c c·ªßa d·ªãch v·ª• m√† kh√¥ng c·∫ßn can thi·ªáp th·ªß c√¥ng ƒê·∫£m b·∫£o data consistency nh·ªù DynamoDB Global Tables Ch√∫c m·ª´ng! B·∫°n ƒë√£ x√¢y d·ª±ng th√†nh c√¥ng m·ªôt ki·∫øn tr√∫c High Availability Serverless v·ªõi kh·∫£ nƒÉng ch·ªãu l·ªói v√† t·ª± ƒë·ªông ph·ª•c h·ªìi.\n"
},
{
	"uri": "//localhost:1313/vi/9-clean-up-resources/",
	"title": "X√≥a t√†i nguy√™n (Clean Up)",
	"tags": [],
	"description": "",
	"content": "B∆∞·ªõc 9: X√≥a t√†i nguy√™n (Clean Up) Sau khi ƒë√£ test th√†nh c√¥ng c∆° ch·∫ø HA/DR \u0026amp; Failover, b·∫°n c·∫ßn x√≥a c√°c t√†i nguy√™n AWS ƒë√£ t·∫°o ƒë·ªÉ tr√°nh ph√°t sinh chi ph√≠.\n‚ö†Ô∏è C·∫£nh b√°o: Vi·ªác x√≥a t√†i nguy√™n l√† kh√¥ng th·ªÉ ho√†n nguy√™n. H√£y ch·∫Øc ch·∫Øn b·∫°n ƒë√£ backup/export m·ªçi th·ª© c·∫ßn thi·∫øt tr∆∞·ªõc khi th·ª±c hi·ªán.\nT·∫°i sao c·∫ßn Clean Up? Cost Optimization: Tr√°nh ph√°t sinh chi ph√≠ kh√¥ng c·∫ßn thi·∫øt Resource Management: Gi·ªØ t√†i kho·∫£n AWS g·ªçn g√†ng Security: Lo·∫°i b·ªè c√°c endpoint v√† resource kh√¥ng s·ª≠ d·ª•ng Best Practice: Th√≥i quen t·ªët trong qu·∫£n l√Ω cloud resources N·ªôi dung X√≥a API Gateway (Secondary ‚Äì Tokyo) X√≥a DynamoDB Global Tables X√≥a Lambda Functions X√≥a Route 53 Health Checks \u0026amp; DNS Records X√≥a ACM Certificates X√≥a S3 Bucket (Frontend Website) X√≥a IAM Roles 1. X√≥a API Gateway (Secondary ‚Äì Tokyo) B∆∞·ªõc 1: X√≥a Custom Domain Mapping (n·∫øu c√≥)\nV√†o API Gateway t·∫°i region Tokyo (ap-northeast-1) Ch·ªçn Custom domain names ‚Üí ch·ªçn api.turtleclouds.id.vn Tab API mappings ‚Üí Delete API mapping B∆∞·ªõc 2: X√≥a API Gateway\nQuay l·∫°i APIs ‚Üí ch·ªçn HighAvailabilityAPI Ch·ªçn Actions ‚Üí Delete G√µ delete ƒë·ªÉ x√°c nh·∫≠n B∆∞·ªõc 3: X√≥a Custom Domain\nV√†o Custom domain names ‚Üí ch·ªçn api.turtleclouds.id.vn Ch·ªçn Actions ‚Üí Delete domain name G√µ t√™n domain ƒë·ªÉ x√°c nh·∫≠n CLI (t√πy ch·ªçn):\n# L·∫•y danh s√°ch API aws apigateway get-rest-apis --region ap-northeast-1 # X√≥a API mapping tr∆∞·ªõc aws apigateway delete-base-path-mapping \\ --domain-name api.turtleclouds.id.vn \\ --base-path \u0026#34;\u0026#34; \\ --region ap-northeast-1 # X√≥a API aws apigateway delete-rest-api --rest-api-id \u0026lt;API_ID\u0026gt; --region ap-northeast-1 # X√≥a custom domain aws apigateway delete-domain-name \\ --domain-name api.turtleclouds.id.vn \\ --region ap-northeast-1 L∆∞u √Ω: API Gateway ·ªü Singapore ƒë√£ b·ªã x√≥a trong b∆∞·ªõc test failover tr∆∞·ªõc ƒë√≥.\n2. X√≥a DynamoDB Global Tables B∆∞·ªõc 1: X√≥a Global Table Replicas\nV√†o DynamoDB ·ªü region Tokyo (ap-northeast-1) Ch·ªçn b·∫£ng HighAvailabilityTable Tab Global Tables ‚Üí Delete replica B∆∞·ªõc 2: X√≥a Primary Table\nChuy·ªÉn v·ªÅ region Singapore (ap-southeast-1) Ch·ªçn b·∫£ng HighAvailabilityTable Actions ‚Üí Delete table G√µ delete ƒë·ªÉ x√°c nh·∫≠n CLI (t√πy ch·ªçn):\n# X√≥a replica ·ªü Tokyo aws dynamodb delete-table --table-name HighAvailabilityTable --region ap-northeast-1 # X√≥a primary table ·ªü Singapore aws dynamodb delete-table --table-name HighAvailabilityTable --region ap-southeast-1 3. X√≥a Lambda Functions X√≥a Lambda Functions ·ªü Tokyo:\nV√†o Lambda ·ªü region Tokyo (ap-northeast-1) X√≥a c√°c functions: ReadFunction WriteFunction DeleteFunction X√≥a Lambda Functions ·ªü Singapore:\nV√†o Lambda ·ªü region Singapore (ap-southeast-1) X√≥a c√°c functions t∆∞∆°ng t·ª± (n·∫øu c√≤n) CLI (t√πy ch·ªçn):\n# Tokyo aws lambda delete-function --function-name ReadFunction --region ap-northeast-1 aws lambda delete-function --function-name WriteFunction --region ap-northeast-1 aws lambda delete-function --function-name DeleteFunction --region ap-northeast-1 # Singapore aws lambda delete-function --function-name ReadFunction --region ap-southeast-1 aws lambda delete-function --function-name WriteFunction --region ap-southeast-1 aws lambda delete-function --function-name DeleteFunction --region ap-southeast-1 4. X√≥a Route 53 Health Checks \u0026amp; DNS Records B∆∞·ªõc 1: X√≥a Health Checks\nV√†o Route 53 Console ‚Üí Health checks X√≥a health checks: Primary Singapore Secondary Tokyo B∆∞·ªõc 2: X√≥a DNS Records\nV√†o Hosted zones ‚Üí api.turtleclouds.id.vn X√≥a c√°c b·∫£n ghi failover: Primary failover record Secondary failover record ACM validation CNAME records B∆∞·ªõc 3: X√≥a Hosted Zone (t√πy ch·ªçn)\nN·∫øu kh√¥ng c·∫ßn n·ªØa, c√≥ th·ªÉ x√≥a lu√¥n hosted zone api.turtleclouds.id.vn Actions ‚Üí Delete hosted zone C·∫£nh b√°o: Ch·ªâ x√≥a hosted zone n·∫øu b·∫°n ch·∫Øc ch·∫Øn kh√¥ng s·ª≠ d·ª•ng subdomain api.* n·ªØa.\n5. X√≥a ACM Certificates X√≥a Certificate ·ªü Singapore:\nV√†o AWS Certificate Manager (ACM) ·ªü region Singapore (ap-southeast-1) Ch·ªçn certificate api.turtleclouds.id.vn Actions ‚Üí Delete X√≥a Certificate ·ªü Tokyo:\nV√†o ACM ·ªü region Tokyo (ap-northeast-1) X√≥a certificate t∆∞∆°ng t·ª± L∆∞u √Ω: Certificates ch·ªâ c√≥ th·ªÉ x√≥a khi kh√¥ng c√≤n ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi b·∫•t k·ª≥ resource n√†o.\n6. X√≥a S3 Bucket (Frontend Website) B∆∞·ªõc 1: Empty Bucket\nV√†o S3 Console ‚Üí bucket api.turtleclouds.id.vn Ch·ªçn Empty bucket G√µ permanently delete ƒë·ªÉ x√°c nh·∫≠n B∆∞·ªõc 2: Delete Bucket\nSau khi empty, ch·ªçn Delete bucket G√µ t√™n bucket ƒë·ªÉ x√°c nh·∫≠n CLI (t√πy ch·ªçn):\n# Empty bucket aws s3 rm s3://api.turtleclouds.id.vn --recursive # Delete bucket aws s3 rb s3://api.turtleclouds.id.vn 7. X√≥a IAM Roles V√†o IAM Console ‚Üí Roles X√≥a c√°c roles ƒë√£ t·∫°o cho Lambda: HighAvailabilityLambdaRole C√°c roles kh√°c li√™n quan ƒë·∫øn project CLI (t√πy ch·ªçn):\n# Detach policies tr∆∞·ªõc aws iam detach-role-policy --role-name HighAvailabilityLambdaRole --policy-arn arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole # X√≥a role aws iam delete-role --role-name HighAvailabilityLambdaRole Checklist Clean Up Sau khi ho√†n th√†nh, h√£y ki·ªÉm tra:\n‚úÖ API Gateway (c·∫£ Singapore v√† Tokyo) ƒë√£ b·ªã x√≥a ‚úÖ DynamoDB Global Tables ƒë√£ b·ªã x√≥a ho√†n to√†n ‚úÖ Lambda Functions ·ªü c·∫£ hai regions ƒë√£ b·ªã x√≥a ‚úÖ Route 53 Health Checks ƒë√£ b·ªã x√≥a ‚úÖ Route 53 DNS Records ƒë√£ b·ªã x√≥a ‚úÖ ACM Certificates ·ªü c·∫£ hai regions ƒë√£ b·ªã x√≥a ‚úÖ S3 Bucket v√† contents ƒë√£ b·ªã x√≥a ‚úÖ IAM Roles kh√¥ng c·∫ßn thi·∫øt ƒë√£ b·ªã x√≥a K·∫øt lu·∫≠n B·∫°n ƒë√£ th√†nh c√¥ng x√≥a to√†n b·ªô t√†i nguy√™n AWS ƒë∆∞·ª£c t·∫°o trong lab n√†y. ƒêi·ªÅu n√†y gi√∫p:\nTr√°nh chi ph√≠ kh√¥ng c·∫ßn thi·∫øt Gi·ªØ t√†i kho·∫£n AWS s·∫°ch s·∫Ω √Åp d·ª•ng best practices trong qu·∫£n l√Ω cloud resources Ho√†n th√†nh chu tr√¨nh development v√† testing Ho√†n th√†nh! B·∫°n ƒë√£ successfully clean up t·∫•t c·∫£ resources v√† ho√†n th√†nh lab Serverless Failover Architecture.\n"
},
{
	"uri": "//localhost:1313/vi/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "//localhost:1313/vi/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]